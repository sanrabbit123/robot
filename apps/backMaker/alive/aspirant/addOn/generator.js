const AspirantSampleData = {
  "aspid": "a2404_aa03s",
  "designer": "김윤아",
  "phone": "010-7303-6343",
  "gender": "여성",
  "birth": new Date("1996-03-05T15:00:00.000Z"),
  "address": "서울 마포구 염리동 141-1 4층",
  "email": "kjh41000@naver.com",
  "meeting": {
    "date": new Date(1800, 0, 1),
    "status": "드랍",
    "memo": "주거 포트폴리오 확인 어려움, 추가 자료 요청",
    "common": {
      "date": new Date(1800, 0, 1),
      "status": "",
      "eight": []
    }
  },
  "calendar": {
    "mother": "designerMeeting",
    "id": ""
  },
  "portfolio": [],
  "submit": {
    "presentation": {
      "date": new Date(1800, 0, 1),
      "boo": false
    },
    "partnership": {
      "date": new Date("2024-04-04T08:42:51.736Z"),
      "boo": true
    },
    "firstRequest": {
      "date": new Date("2024-04-04T08:42:51.736Z"),
      "method": "partnership"
    },
    "documents": {
      "date": new Date(1800, 0, 1),
      "boo": false
    },
    "registration": {
      "date": new Date(1800, 0, 1),
      "boo": false
    },
    "meeting": {
      "date": new Date(1800, 0, 1),
      "boo": false
    },
    "comeFrom": ""
  },
  "information": {
    "company": {
      "name": "프리랜서",
      "classification": "프리랜서",
      "businessNumber": "960306",
      "representative": "김윤아",
      "start": new Date("2024-04-03T15:00:00.000Z")
    },
    "account": {
      "bank": "우리은행",
      "number": "1002258794239",
      "to": "김윤아",
      "etc": ""
    },
    "career": {
      "interior": {
        "year": 0,
        "month": 0
      },
      "styling": {
        "year": 0,
        "month": 0
      },
      "detail": [
        {
          "company": "헤르메스 디자인",
          "team": "공간기획팀",
          "role": "기획, 설계 및 3D",
          "tag": "건축 설계",
          "date": {
            "start": new Date("2023-11-30T15:00:00.000Z"),
            "end": new Date("3799-12-31T15:00:00.000Z")
          }
        },
        {
          "company": "디오디자인",
          "team": "공간디자인팀",
          "role": "브랜드 설계 및 3D, 현장감리",
          "tag": "리모델링",
          "date": {
            "start": new Date("2023-06-30T15:00:00.000Z"),
            "end": new Date("2023-11-30T15:00:00.000Z")
          }
        }
      ],
      "school": [
        {
          "school": "신안산대학교",
          "major": "국제비서학과",
          "date": {
            "start": new Date("2016-02-29T15:00:00.000Z"),
            "end": new Date("2019-01-31T15:00:00.000Z")
          }
        }
      ],
      "about": "공간기획을 통해 홈스타일에 관한 지원을 희망하는 이유 중 가장 큰 것은 제가 직접 실무에서 경험을 쌓으며 실력을 키우고자 함에 있습니다. 제가 키워온 디자인 및 공간 기획의 지식과 능력을 직접 현장에 적용하여 사람들의 삶을 더욱 풍요롭고 편안하게 만들어 주는 과정에 참여하고 싶습니다.\n\n이를 통해 현장에서 발생하는 다양한 문제에 대처하고, 고객들의 다양한 요구에 맞추어 최적의 해결책을 찾아내는 과정에서 제 능력을 발휘하고자 합니다. 또한, 이러한 경험을 통해 새로운 아이디어를 발굴하고 창의적인 해결책을 모색하여 스타일 분야에서의 새로운 트렌드를 선도하는데 기여하고 싶습니다.\n\n더불어, 홈스타일은 개인의 취향과 삶의 방식을 반영하는 중요한 영역입니다. 따라서, 고객들과의 소통과 협력을 통해 그들의 요구와 선호도를 정확히 파악하고, 그에 맞는 최상의 디자인을 제공하는 것이 제 목표입니다. 이를 통해 고객들의 만족도를 높이고, 더 나은 홈스타일을 제공함으로써 그들의 삶의 질을 향상시키고자 합니다.\n\n이러한 지원동기를 바탕으로 공간기획을 통해 홈스타일에 관한 경험을 쌓고, 제 능력을 발전시켜 나가는데 최선을 다하겠습니다."
    },
    "channel": {
      "web": [],
      "sns": [
        "https:www.instagram.comuyuona_"
      ],
      "cloud": []
    }
  },
  "response": {
    "date": new Date(1800, 0, 1),
    "long": "45 \n추가 포트폴리오 요청\n일단 3D라도 보내주시기로\n태도가 좋으신거같음",
    "outreason": "",
    "manager": "리에종",
    "first": {
      "status": "불합격",
      "reason": ""
    },
    "portfolio": {
      "summary": "",
      "proper": {
        "status": 0,
        "remodeling": false,
        "styling": false
      },
      "ready": {
        "home": false,
        "furnishing": false,
        "set": false
      },
      "plus": {
        "needs": false,
        "request": new Date(1800, 0, 1),
        "photo": new Date(1800, 0, 1),
      }
    }
  },
  "contract": {
    "partnership": {
      "date": new Date(1800, 0, 1),
      "id": ""
    },
    "designer": {
      "date": new Date(1800, 0, 1),
      "id": ""
    }
  }
}

const AspirantMap = {
  main: function () {
    let dummy;
    dummy = {
      structure: {
        aspid: "",
        designer: "",
        phone: "",
        gender: "여성",
        birth: new Date(1800, 0, 1),
        address: "",
        email: "",
        meeting: {
          date: new Date(1800, 0, 1),
          status: "",
          memo: "",
          common: {
            date: new Date(1800, 0, 1),
            status: "",
            eight: [],
          },
        },
        calendar: {
          mother: "designerMeeting",
          id: "",
        },
        portfolio: [],
        submit: {
          presentation: {
            date: new Date(1800, 0, 1),
            boo: false
          },
          partnership: {
            date: new Date(1800, 0, 1),
            boo: false
          },
          firstRequest: {
            date: new Date(1800, 0, 1),
            method: "",
          },
          documents: {
            date: new Date(1800, 0, 1),
            boo: false,
          },
          registration: {
            date: new Date(1800, 0, 1),
            boo: false,
          },
          meeting: {
            date: new Date(1800, 0, 1),
            boo: false,
          },
          comeFrom: "",
        },
        information: {
          company: {
            name: "",
            classification: "",
            businessNumber: "",
            representative: "",
            start: new Date(1800, 0, 1),
          },
          account: {
            bank: "",
            number: "",
            to: "",
            etc: "",
          },
          career: {
            interior: {
              year: 0,
              month: 0
            },
            styling: {
              year: 0,
              month: 0
            },
            detail: [],
            school: [],
            about: "",
          },
          channel: {
            web: [],
            sns: [],
            cloud: []
          }
        },
        response: {
          date: new Date(1800, 0, 1),
          long: "",
          outreason: "",
          manager: "",
          first: {
            status: "검토중",
            reason: "",
          },
          portfolio: {
            summary: "",
            proper: {
              status: 0,
              remodeling: false,
              styling: false,
            },
            ready: {
              home: false,
              furnishing: false,
              set: false,
            },
            plus: {
              needs: false,
              request: new Date(1800, 0, 1),
              photo: new Date(1800, 0, 1),
            }
          },
        },
        contract: {
          partnership: {
            date: new Date(1800, 0, 1),
            id: "",
          },
          designer: {
            date: new Date(1800, 0, 1),
            id: "",
          },
        }
      }
    };
    return dummy;
  },
  sub: function (subject) {
    let dummy = null;
    if (subject === "portfolio") {
      dummy = {
        date: new Date(),
        confirm: [
          {
            date: new Date(),
            who: "",
          }
        ],
        folderId: "1j-mLXZszbWNqq_xhXVPtm4MW5QOm5sZ2"
      };
    } else if (subject === "meeting.common.eight") {
      dummy = {
        date: new Date(),
        priority: 0,
        name: "",
      };
    }
    return dummy;
  }
};

class DateParse extends Date {

  constructor(dateObject) {
    let tempArr0, tempArr1, tempArr2;
    if (typeof dateObject === "string") {
      if (dateObject.length === 19) {
        tempArr0 = dateObject.split(" ");
        tempArr1 = tempArr0[0].split("-");
        tempArr2 = tempArr0[1].split(":");
        super(new Date(Number(tempArr1[0]), Number(tempArr1[1]) - 1, Number(tempArr1[2]), Number(tempArr2[0]), Number(tempArr2[1]), Number(tempArr2[2])));
      } else if (dateObject.length === 10) {
        tempArr1 = dateObject.split("-");
        super(new Date(Number(tempArr1[0]), Number(tempArr1[1]) - 1, Number(tempArr1[2])));
      } else {
        throw new Error("invalid date object");
      }
    } else {
      super(dateObject.toISOString());
    }
  }

  static zeroAddition(number) {
    if (number > 9) {
      return String(number);
    } else {
      return '0' + String(number);
    }
  }

  toString(detail = false) {
    const year = this.getFullYear();
    const month = this.getMonth() + 1;
    const day = this.getDate();
    const hours = this.getHours();
    const minutes = this.getMinutes();
    const seconds = this.getSeconds();
    if (detail) {
      if (year === 1800) {
        return "1800-01-01";
      } else {
        return (DateParse.zeroAddition(year) + "-" + DateParse.zeroAddition(month) + "-" + DateParse.zeroAddition(day) + " " + DateParse.zeroAddition(hours) + ":" + DateParse.zeroAddition(minutes) + ":" + DateParse.zeroAddition(seconds));
      }
    } else {
      if (year === 1800) {
        return "1800-01-01";
      } else {
        return (DateParse.zeroAddition(year) + "-" + DateParse.zeroAddition(month) + "-" + DateParse.zeroAddition(day));
      }
    }
  }

  toNormal() {
    return new Date(this.toISOString());
  }

  toSixString() {
    let date = this.toString(false);
    return (date.slice(2, 4) + date.slice(5, 7) + date.slice(8, 10));
  }

}

class Aspirant {

  constructor(json) {
    this.aspid = json.aspid;
    this.designer = json.designer;
    this.phone = json.phone;
    this.gender = json.gender;
    this.birth = new DateParse(json.birth);
    this.address = json.address;
    this.email = json.email;
    this.meeting = new this.#AspirantMeeting(json.meeting);
    this.calendar = new this.#AspirantCalendar(json.calendar);
    this.portfolio = new this.#AspirantPortfolio(json.portfolio);
    this.submit = new this.#AspirantSubmit(json.submit);
    this.information = new this.#AspirantInformation(json.information);
    this.response = new this.#AspirantResponse(json.response);
    this.contract = new this.#AspirantContract(json.contract);
  }

  toNormal() {
    let obj = {};
    obj.aspid = this.aspid;
    obj.designer = this.designer;
    obj.phone = this.phone;
    obj.gender = this.gender;
    obj.birth = this.birth.toNormal();
    obj.address = this.address;
    obj.email = this.email;
    obj.meeting = this.meeting.toNormal();
    obj.calendar = this.calendar.toNormal();
    obj.portfolio = this.portfolio.toNormal();
    obj.submit = this.submit.toNormal();
    obj.information = this.information.toNormal();
    obj.response = this.response.toNormal();
    obj.contract = this.contract.toNormal();
    return obj;
  }

  firstRequest() {
    return this.submit.firstRequest.date;
  }

  meetingAlarm() {
    const today = new Date();
    const dayConvert = ["일요일", "월요일", "화요일", "수요일", "목요일", "금요일", "토요일"];
    const dateToString = function (dateObject) {
      return `${String(dateObject.getMonth() + 1)}월 ${String(dateObject.getDate())}일 ${dayConvert[dateObject.getDay()]} ${dateObject.getHours()}시`;
    }
    let obj, standard;

    if (today.getDay() === 4) {
      standard = new Date(today.valueOf() + (1000 * 60 * 60 * 24 * 4));
    } else if (today.getDay() === 5) {
      standard = new Date(today.valueOf() + (1000 * 60 * 60 * 24 * 4));
    } else if (today.getDay() === 6) {
      standard = null;
    } else if (today.getDay() === 0) {
      standard = null;
    } else {
      standard = new Date(today.valueOf() + (1000 * 60 * 60 * 24 * 2));
    }

    obj = {
      name: this.designer,
      phone: this.phone,
      date: this.meeting.date,
      status: ((this.meeting.date.valueOf() <= today.valueOf()) ? "미팅 완료" : "미팅 대기"),
      dateString: dateToString(this.meeting.date),
    };

    if (standard !== null) {
      obj.alarm = (standard.getFullYear() === this.meeting.date.getFullYear() && standard.getMonth() === this.meeting.date.getMonth() && standard.getDate() === this.meeting.date.getDate());
    } else {
      obj.alarm = false;
    }

    if (this.meeting.date.getFullYear() < 2000) {
      return null;
    } else {
      return obj;
    }
  }

  #AspirantContract = class {
    constructor(json) {
        this.partnership = new this.#AspirantContractPartnership(json.partnership);
        this.designer = new this.#AspirantContractDesigner(json.designer);
    }

    toNormal() {
        let obj = {};
        obj.partnership = this.partnership.toNormal();
        obj.designer = this.designer.toNormal();
        return obj;
    }

    #AspirantContractPartnership = class {
        constructor(json) {
            this.date = new DateParse(json.date);
            this.id = json.id;
        }

        toNormal() {
            let obj = {};
            obj.date = this.date.toNormal();
            obj.id = this.id;
            return obj;
        }
    }

    #AspirantContractDesigner = class {
        constructor(json) {
            this.date = new DateParse(json.date);
            this.id = json.id;
        }

        toNormal() {
            let obj = {};
            obj.date = this.date.toNormal();
            obj.id = this.id;
            return obj;
        }
    }
  }

  #AspirantMeeting = class {
    constructor(json) {
      this.status = json.status;
      this.date = new DateParse(json.date);
      this.memo = json.memo;
      this.common = new this.#AspirantMeetingCommon(json.common);
    }
  
    toNormal() {
      let obj = {};
      obj.status = this.status;
      obj.date = this.date.toNormal();
      obj.memo = this.memo;
      obj.common = this.common.toNormal();
      return obj;
    }
  
    #AspirantMeetingCommon = class {
      constructor(json) {
        this.date = new DateParse(json.date);
        this.status = json.status;
        this.eight = new this.#AspirantMeetingEightMatrix(json.eight);
      }
  
      toNormal() {
        let obj = {};
        obj.date = this.date.toNormal();
        obj.status = this.status;
        obj.eight = this.eight.toNormal();
        return obj;
      }
  
      #AspirantMeetingEightMatrix = class extends Array {
        constructor(json) {
          super();
          for (let i of json) {
            this.push(new this.#AspirantMeetingEightMatrixFactor(i));
          }
        }
  
        toNormal() {
          let arr = [];
          for (let i of this) {
            arr.push(i.toNormal());
          }
          return arr;
        }
  
        #AspirantMeetingEightMatrixFactor = class {
          constructor(json) {
            this.date = new DateParse(json.date);
            this.priority = json.priority;
            this.name = json.name;
          }
  
          toNormal() {
            let obj = {};
            obj.date = this.date.toNormal();
            obj.priority = this.priority;
            obj.name = this.name;
            return obj;
          }
        };
      };
    };
  }
  
  #AspirantCalendar = class {
    constructor(json) {
      this.mother = json.mother;
      this.id = json.id;
    }
  
    toNormal() {
      let obj = {};
      obj.status = this.mother;
      obj.date = this.id;
      return obj;
    }
  }
  
  #AspirantInformation = class {
    constructor(json) {
      this.company = new this.#Company(json.company);
      this.account = new this.#Account(json.account);
      this.career = new this.#Career(json.career);
      this.channel = new this.#Channel(json.channel);
    }
  
    toNormal() {
      let obj = {};
      obj.company = this.company.toNormal();
      obj.account = this.account.toNormal();
      obj.career = this.career.toNormal();
      obj.channel = this.channel.toNormal();
      return obj;
    }
  
    #Company = class {
      constructor(json) {
        this.name = json.name;
        this.classification = json.classification;
        this.businessNumber = json.businessNumber;
        this.representative = json.representative;
        this.start = new DateParse(json.start);
      }
  
      toNormal() {
        let obj = {};
        obj.name = this.name;
        obj.classification = this.classification;
        obj.businessNumber = this.businessNumber;
        obj.representative = this.representative;
        obj.start = this.start.toNormal();
        return obj;
      }
    };
  
    #Account = class {
      constructor(json) {
        this.bank = json.bank;
        this.number = json.number;
        this.to = json.to;
        this.etc = json.etc;
      }
  
      toNormal() {
        let obj = {};
        obj.bank = this.bank;
        obj.number = this.number;
        obj.to = this.to;
        obj.etc = this.etc;
        return obj;
      }
    };
  
    #Career = class {
      constructor(json) {
        this.interior = new this.#CareerYearMonth(json.interior);
        this.styling = new this.#CareerYearMonth(json.styling);
        this.detail = new this.#CareerDetail(json.detail);
        this.school = new this.#SchoolDetail(json.school);
        this.about = json.about;
      }
  
      toNormal() {
        let obj = {};
        obj.interior = this.interior.toNormal();
        obj.styling = this.styling.toNormal();
        obj.detail = this.detail.toNormal();
        obj.school = this.school.toNormal();
        obj.about = this.about;
        return obj;
      }
  
      #CareerYearMonth = class {
        constructor(json) {
          this.year = json.year;
          this.month = json.month;
        }
  
        toNormal() {
          let obj = {};
          obj.year = this.year;
          obj.month = this.month;
          return obj;
        }
      };
  
      #CareerDetail = class extends Array {
        constructor(json) {
          super();
          let tempInstance;
          for (let i of json) {
            tempInstance = new this.#CareerDetailFactor(i);
            this.push(tempInstance);
          }
        }
  
        toNormal() {
          let arr = [];
          for (let i of this) {
            arr.push(i.toNormal());
          }
          return arr;
        }
  
        #CareerDetailFactor = class {
          constructor(json) {
            this.company = json.company;
            this.team = json.team;
            this.role = json.role;
            this.tag = json.tag;
            this.date = new this.#CareerDetailFactorDate(json.date);
          }
  
          toNormal() {
            let obj = {};
            obj.company = this.company;
            obj.team = this.team;
            obj.role = this.role;
            obj.tag = this.tag;
            obj.date = this.date.toNormal();
            return obj;
          }
  
          #CareerDetailFactorDate = class {
            constructor(json) {
              this.start = new DateParse(json.start);
              this.end = new DateParse(json.end);
            }
  
            toNormal() {
              let obj = {};
              obj.start = this.start.toNormal();
              obj.end = this.end.toNormal();
              return obj;
            }
          };
        };
      };
  
      #SchoolDetail = class extends Array {
        constructor(json) {
          super();
          let tempInstance;
          for (let i of json) {
            tempInstance = new this.#SchoolDetailFactor(i);
            this.push(tempInstance);
          }
        }
  
        toNormal() {
          let arr = [];
          for (let i of this) {
            arr.push(i.toNormal());
          }
          return arr;
        }
  
        #SchoolDetailFactor = class {
          constructor(json) {
            this.school = json.school;
            this.major = json.major;
            this.date = new this.#SchoolDetailFactorDate(json.date);
          }
  
          toNormal() {
            let obj = {};
            obj.school = this.school;
            obj.major = this.major;
            obj.date = this.date.toNormal();
            return obj;
          }
  
          #SchoolDetailFactorDate = class {
            constructor(json) {
              this.start = new DateParse(json.start);
              this.end = new DateParse(json.end);
            }
  
            toNormal() {
              let obj = {};
              obj.start = this.start.toNormal();
              obj.end = this.end.toNormal();
              return obj;
            }
          };
        };
      };
    };
  
    #Channel = class {
      constructor(json) {
        this.web = new this.#LinkArray(json.web);
        this.sns = new this.#LinkArray(json.sns);
        this.cloud = new this.#LinkArray(json.cloud);
      }
  
      toNormal() {
        let obj = {};
        obj.web = this.web.toNormal();
        obj.sns = this.sns.toNormal();
        obj.cloud = this.cloud.toNormal();
        return obj;
      }
  
      #LinkArray = class extends Array {
        constructor(json) {
          super();
          for (let i of json) {
            this.push(i);
          }
        }
  
        toNormal() {
          let arr = [];
          for (let i of this) {
            arr.push(i);
          }
          return arr;
        }
      };
    };
  }
  
  #AspirantPortfolio = class extends Array {
    constructor(json) {
      super();
      let tempInstance;
      for (let i of json) {
        tempInstance = new this.#AspirantPortfolioDetail(i);
        this.push(tempInstance);
      }
    }
  
    toNormal() {
      let arr = [];
      for (let i of this) {
        arr.push(i.toNormal());
      }
      return arr;
    }
  
    #AspirantPortfolioDetail = class {
      constructor(json) {
        this.date = new DateParse(json.date);
        this.confirm = new this.#Confirms(json.confirm);
        this.folderId = json.folderId;
      }
  
      toNormal() {
        let obj = {};
        obj.date = this.date.toNormal();
        obj.confirm = this.confirm.toNormal();
        obj.folderId = this.folderId;
        return obj;
      }
  
      #Confirms = class extends Array {
        constructor(json) {
          super();
          for (let i of json) {
            this.push(new this.#Confirm(i));
          }
        }
  
        toNormal() {
          let arr = [];
          for (let i of this) {
            arr.push(i.toNormal());
          }
          return arr;
        }
  
        #Confirm = class {
          constructor(json) {
            this.date = new DateParse(json.date);
            this.who = json.who;
          }
  
          toNormal() {
            let obj = {};
            obj.date = this.date.toNormal();
            obj.who = this.who;
            return obj;
          }
        };
      };
    };
  }
  
  #AspirantResponse = class {
    constructor(json) {
      this.date = new DateParse(json.date);
      this.long = json.long;
      this.outreason = json.outreason;
      this.manager = json.manager;
      this.first = new this.#AspirantResponseFirst(json.first);
      this.portfolio = new this.#AspirantResponsePortfolio(json.portfolio);
    }
  
    toNormal() {
      let obj = {};
      obj.date = this.date.toNormal();
      obj.long = this.long;
      obj.outreason = this.outreason;
      obj.manager = this.manager;
      obj.first = this.first.toNormal();
      obj.portfolio = this.portfolio.toNormal();
      return obj;
    }
  
    #AspirantResponsePortfolio = class {
      constructor(json) {
        this.summary = json.summary;
        this.proper = new this.#AspirantResponsePortfolioProper(json.proper);
        this.ready = new this.#AspirantResponsePortfolioReady(json.ready);
        this.plus = new this.#AspirantResponsePortfolioPlus(json.plus);
      }
  
      toNormal() {
        let obj = {};
        obj.summary = this.summary;
        obj.proper = this.proper.toNormal();
        obj.ready = this.ready.toNormal();
        obj.plus = this.plus.toNormal();
        return obj;
      }
  
      #AspirantResponsePortfolioProper = class {
        constructor(json) {
          this.status = json.status;
          this.remodeling = json.remodeling;
          this.styling = json.styling;
        }
  
        toNormal() {
          let obj = {};
          obj.status = this.status;
          obj.remodeling = this.remodeling;
          obj.styling = this.styling;
          return obj;
        }
      }
  
      #AspirantResponsePortfolioReady = class {
        constructor(json) {
          this.home = json.home;
          this.furnishing = json.furnishing;
          this.set = json.set;
        }
  
        toNormal() {
          let obj = {};
          obj.home = this.home;
          obj.furnishing = this.furnishing;
          obj.set = this.set;
          return obj;
        }
      }
  
      #AspirantResponsePortfolioPlus = class {
        constructor(json) {
          this.needs = json.needs;
          this.request = new DateParse(json.request);
          this.photo = new DateParse(json.photo);
        }
  
        toNormal() {
          let obj = {};
          obj.needs = this.needs;
          obj.request = this.request.toNormal();
          obj.photo = this.photo.toNormal();
          return obj;
        }
      }
    }
  
    #AspirantResponseFirst = class {
      constructor(json) {
        this.status = json.status;
        this.reason = json.reason;
      }
  
      toNormal() {
        let obj = {};
        obj.status = this.status;
        obj.reason = this.reason;
        return obj;
      }
    }
  }
  
  #AspirantSubmit = class {
    constructor(json) {
      this.presentation = new this.#AspirantSubmitPresentation(json.presentation);
      this.partnership = new this.#AspirantSubmitPartnership(json.partnership);
      this.firstRequest = new this.#AspirantSubmitFirst(json.firstRequest);
      this.documents = new this.#AspirantSubmitDocuments(json.documents);
      this.registration = new this.#AspirantSubmitRegistration(json.registration);
      this.meeting = new this.#AspirantSubmitMeeting(json.meeting);
      this.comeFrom = json.comeFrom;
    }
  
    toNormal() {
      let obj = {};
      obj.presentation = this.presentation.toNormal();
      obj.partnership = this.partnership.toNormal();
      obj.firstRequest = this.firstRequest.toNormal();
      obj.documents = this.documents.toNormal();
      obj.registration = this.registration.toNormal();
      obj.meeting = this.meeting.toNormal();
      obj.comeFrom = this.comeFrom;
      return obj;
    }
  
    #AspirantSubmitDocuments = class {
      constructor(json) {
        this.date = new DateParse(json.date);
        this.boo = json.boo;
      }
  
      toNormal() {
        let obj = {};
        obj.date = this.date.toNormal();
        obj.boo = this.boo;
        return obj;
      }
    }
  
    #AspirantSubmitRegistration = class {
      constructor(json) {
        this.date = new DateParse(json.date);
        this.boo = json.boo;
      }
  
      toNormal() {
        let obj = {};
        obj.date = this.date.toNormal();
        obj.boo = this.boo;
        return obj;
      }
    }
  
    #AspirantSubmitMeeting = class {
      constructor(json) {
        this.date = new DateParse(json.date);
        this.boo = json.boo;
      }
  
      toNormal() {
        let obj = {};
        obj.date = this.date.toNormal();
        obj.boo = this.boo;
        return obj;
      }
    }
  
    #AspirantSubmitPresentation = class {
      constructor(json) {
        this.date = new DateParse(json.date);
        this.boo = json.boo;
      }
  
      toNormal() {
        let obj = {};
        obj.date = this.date.toNormal();
        obj.boo = this.boo;
        return obj;
      }
    }
  
    #AspirantSubmitPartnership = class {
      constructor(json) {
        this.date = new DateParse(json.date);
        this.boo = json.boo;
      }
  
      toNormal() {
        let obj = {};
        obj.date = this.date.toNormal();
        obj.boo = this.boo;
        return obj;
      }
    }
  
    #AspirantSubmitFirst = class {
      constructor(json) {
        this.date = new DateParse(json.date);
        this.method = json.method;
      }
  
      toNormal() {
        let obj = {};
        obj.date = this.date.toNormal();
        obj.method = this.method;
        return obj;
      }
    }
  }
}

class Aspirants extends Array {

  toNormal() {
    let tong;
    tong = [];
    for (let i of this) {
      tong.push(i.toNormal());
    }
    return tong;
  }

  meetingAlarm() {
    let arr;
    arr = [];
    for (let i of this) {
      if (i.meetingAlarm() !== null) {
        arr.push(i.meetingAlarm());
      }
    }
    arr.sort((a, b) => {
      return a.date.valueOf() - b.date.valueOf();
    });
    return arr;
  }

}

const withTools = function (Aspirant) {

  Aspirant.prototype.flatDeath = function (mode = "total") {
    const aspirant = this.toNormal();
    const dateToStringDay = function (dateObject) {
      const dayConvert = [
        "일요일",
        "월요일",
        "화요일",
        "수요일",
        "목요일",
        "금요일",
        "토요일"
      ];
      return `${String(dateObject.getMonth() + 1)}월 ${String(dateObject.getDate())}일 ${dayConvert[dateObject.getDay()]} ${String(dateObject.getHours())}시`;
    };
    const dateToString = function (str) {
      const zeroAddition = function (num) {
        if (num < 10) {
          return `0${String(num)}`;
        } else {
          return String(num);
        }
      }
      let date;
      date = new Date(str);
      return `${String(date.getFullYear())}-${zeroAddition(date.getMonth() + 1)}-${zeroAddition(date.getDate())} ${zeroAddition(date.getHours())}:${zeroAddition(date.getMinutes())}:${zeroAddition(date.getSeconds())}`;
    }
    let tempObj;

    tempObj = {};

    if (mode === "total") {
      tempObj.designer = aspirant.designer;
      tempObj.phone = aspirant.phone;
      tempObj.status = aspirant.meeting.status;
      tempObj.meetingTime = (!/^조정/.test(aspirant.meeting.status)) ? dateToStringDay(aspirant.meeting.date) : "기타";
      tempObj.date = dateToString(aspirant.submit.firstRequest.date);
      tempObj.presentationBoo = aspirant.submit.presentation.boo;
      tempObj.partnershipBoo = aspirant.submit.partnership.boo;
      tempObj.portfolioBoo = (aspirant.portfolio.length > 0);
      tempObj.webChannel = aspirant.information.channel.web.join(',');;
      tempObj.snsChannel = aspirant.information.channel.sns.join(',');;
      tempObj.cloudChannel = aspirant.information.channel.cloud.join(',');;
      tempObj.comeFrom = aspirant.submit.comeFrom;
      tempObj.email = aspirant.email;
      tempObj.address = aspirant.address;
      tempObj.classification = aspirant.information.company.classification;
      tempObj.company = aspirant.information.company.name;
      tempObj.businessNumber = aspirant.information.company.businessNumber;
      tempObj.startDate = dateToString(aspirant.information.company.start).slice(0, 10);
      tempObj.representative = aspirant.information.company.representative;
      tempObj.bankName = aspirant.information.account.bank;
      tempObj.bankAccount = aspirant.information.account.number;
      tempObj.bankTo = aspirant.information.account.to;
      tempObj.bankEtc = aspirant.information.account.etc;
      tempObj.interiorCareer = String(aspirant.information.career.interior.year) + '년 ' + String(aspirant.information.career.interior.month) + '개월';
      tempObj.stylingCareer = String(aspirant.information.career.styling.year) + '년 ' + String(aspirant.information.career.styling.month) + '개월';
      tempObj.careerDetail = aspirant.information.career.detail;

      tempObj.binary = (aspirant.portfolio.length > 0);
      tempObj.folderId = null;
      tempObj.portfolioConfirms = JSON.stringify([]);
      if (aspirant.portfolio.length > 0) {
        tempObj.folderId = aspirant.portfolio[0].folderId;
        tempObj.portfolioConfirms = JSON.stringify(aspirant.portfolio[0].confirm);
      }
      tempObj.relation = aspirant.submit.partnership.boo;
      if (!tempObj.binary) {
        for (let i of aspirant.information.channel.web) {
          tempObj.binary = true;
          tempObj.portfolioBoo = true;
          tempObj.folderId = "__link__" + i.replace(/[\&\=]/g, '');
        }
        for (let i of aspirant.information.channel.sns) {
          tempObj.binary = true;
          tempObj.portfolioBoo = true;
          tempObj.folderId = "__link__" + i.replace(/[\&\=]/g, '');
        }
        for (let i of aspirant.information.channel.cloud) {
          tempObj.binary = true;
          tempObj.portfolioBoo = true;
          tempObj.folderId = "__link__" + i.replace(/[\&\=]/g, '');
        }
      }
      tempObj.presentationBoo = tempObj.presentationBoo ? "신청" : "미신청";
      tempObj.partnershipBoo = tempObj.partnershipBoo ? "신청" : "미신청";
      tempObj.portfolioBoo = tempObj.portfolioBoo ? "제출" : "미제출";

      return tempObj;
    } else if (mode === "presentation") {

      if (!aspirant.submit.presentation.boo) {
        return null;
      }

      tempObj.date = dateToString(aspirant.submit.presentation.date);
      tempObj.designer = aspirant.designer;
      tempObj.phone = aspirant.phone;
      tempObj.email = aspirant.email;
      tempObj.address = aspirant.address;
      tempObj.status = aspirant.meeting.status;
      tempObj.presentationTimes = (!/^조정/.test(aspirant.meeting.status)) ? dateToStringDay(aspirant.meeting.date) : "기타";
      tempObj.comeFrom = aspirant.submit.comeFrom;
      tempObj.webChannel = aspirant.information.channel.web.join(',');;
      tempObj.snsChannel = aspirant.information.channel.sns.join(',');;
      tempObj.cloudChannel = aspirant.information.channel.cloud.join(',');;

      tempObj.binary = (aspirant.portfolio.length > 0);
      tempObj.folderId = null;
      if (aspirant.portfolio.length > 0) {
        tempObj.folderId = aspirant.portfolio[0].folderId;
      }
      tempObj.relation = aspirant.submit.partnership.boo;
      if (!tempObj.binary) {
        for (let i of aspirant.information.channel.web) {
          tempObj.binary = true;
          tempObj.folderId = "__link__" + i.replace(/[\&\=]/g, '');
        }
        for (let i of aspirant.information.channel.sns) {
          tempObj.binary = true;
          tempObj.folderId = "__link__" + i.replace(/[\&\=]/g, '');
        }
        for (let i of aspirant.information.channel.cloud) {
          tempObj.binary = true;
          tempObj.folderId = "__link__" + i.replace(/[\&\=]/g, '');
        }
      }

    } else if (mode === "partnership") {

      if (!aspirant.submit.partnership.boo) {
        return null;
      }

      tempObj.date = dateToString(aspirant.submit.partnership.date);
      tempObj.designer = aspirant.designer;
      tempObj.phone = aspirant.phone;
      tempObj.email = aspirant.email;
      tempObj.address = aspirant.address;

      tempObj.status = aspirant.meeting.status;
      tempObj.meetingTime = (!/^조정/.test(aspirant.meeting.status)) ? dateToStringDay(aspirant.meeting.date) : "기타";

      tempObj.classification = aspirant.information.company.classification;
      tempObj.company = aspirant.information.company.name;
      tempObj.businessNumber = aspirant.information.company.businessNumber;
      tempObj.startDate = dateToString(aspirant.information.company.start).slice(0, 10);
      tempObj.representative = aspirant.information.company.representative;
      tempObj.bankName = aspirant.information.account.bank;
      tempObj.bankAccount = aspirant.information.account.number;
      tempObj.bankTo = aspirant.information.account.to;
      tempObj.bankEtc = aspirant.information.account.etc;
      tempObj.interiorCareer = String(aspirant.information.career.interior.year) + '년 ' + String(aspirant.information.career.interior.month) + '개월';
      tempObj.stylingCareer = String(aspirant.information.career.styling.year) + '년 ' + String(aspirant.information.career.styling.month) + '개월';
      tempObj.careerDetail = aspirant.information.career.detail;

      tempObj.comeFrom = aspirant.submit.comeFrom;
      tempObj.webChannel = aspirant.information.channel.web.join(',');;
      tempObj.snsChannel = aspirant.information.channel.sns.join(',');;
      tempObj.cloudChannel = aspirant.information.channel.cloud.join(',');;

      tempObj.binary = (aspirant.portfolio.length > 0);
      tempObj.folderId = null;
      if (aspirant.portfolio.length > 0) {
        tempObj.folderId = aspirant.portfolio[0].folderId;
      }
      tempObj.relation = aspirant.submit.partnership.boo;
      if (!tempObj.binary) {
        for (let i of aspirant.information.channel.web) {
          tempObj.binary = true;
          tempObj.folderId = "__link__" + i.replace(/[\&\=]/g, '');
        }
        for (let i of aspirant.information.channel.sns) {
          tempObj.binary = true;
          tempObj.folderId = "__link__" + i.replace(/[\&\=]/g, '');
        }
        for (let i of aspirant.information.channel.cloud) {
          tempObj.binary = true;
          tempObj.folderId = "__link__" + i.replace(/[\&\=]/g, '');
        }
      }

    }

    return tempObj;
  }

  Aspirant.prototype.dimensionSqueeze = function () {
    const tong = JSON.parse(JSON.stringify(this.flatDeath()));
    let result;

    result = [];

    delete tong.portfolioConfirms;
    if (/^__link__/.test(tong.folderId)) {
      tong.folderId = tong.folderId.slice(8);
    }
    tong.aspirantBinary = tong.binary;
    delete tong.binary;

    result.push(tong);

    return result;
  }

  return Aspirant;
}

const withToolsArr = function (Aspirants) {

  Aspirants.prototype.flatDeath = function () {
    let tong, tempArr;
    tong = [];
    for (let i of this) {
      tempArr = i.flatDeath();
      for (let j of tempArr) {
        tong.push(j);
      }
    }
    return tong;
  }

  Aspirants.prototype.dimensionSqueeze = function () {
    const TABLE_NAME = "aspirant";
    const LONG_TARGETS = [];
    class SqlModel {
      constructor(sample) {
        for (let i in sample) {
          if (typeof sample[i] === "string") {
            this[i] = "VARCHAR(255)";
          } else if (typeof sample[i] === "number") {
            this[i] = "INT(11)";
          } else if (typeof sample[i] === "boolean") {
            this[i] = "INT(11)";
          } else {
            this[i] = "VARCHAR(255)";
          }
          if (LONG_TARGETS.includes(i)) {
            this[i] = "TEXT";
          }
        }
      }

      getName() {
        return TABLE_NAME;
      }

      getCreateSql() {
        let sql = "CREATE TABLE \`" + this.getName() + "\` (";
        sql += "id INT(11) NOT NULL AUTO_INCREMENT,";
        sql += " ";
        for (let i in this) {
          sql += "\`";
          sql += i;
          sql += "\`";
          sql += " ";
          sql += this[i];
          sql += ", ";
        }
        sql += "PRIMARY KEY (id));";
        return sql;
      }

      getDropSql() {
        let sql = "DROP TABLE " + this.getName() + ";";
        return sql;
      }

    }
    class SqlTong extends Array {
      getName() {
        return TABLE_NAME;
      }

      getInsertSql() {
        let arr = [];
        for (let i of this) {
          arr.push(i.getInsertSql());
        }
        return arr;
      }

    }
    class SqlTongFactor {
      constructor(sample) {
        for (let i in sample) {
          if (typeof sample[i] === "string") {
            this[i] = sample[i];
          } else if (typeof sample[i] === "number") {
            this[i] = sample[i];
          } else if (typeof sample[i] === "boolean") {
            if (sample[i]) {
              this[i] = 1;
            } else {
              this[i] = 0;
            }
          } else {
            this[i] = JSON.stringify(sample[i]);
          }
        }
      }

      getName() {
        return TABLE_NAME;
      }

      getInsertSql() {
        let sql = "INSERT INTO \`" + this.getName() + "\` (";
        for (let i in this) {
          sql += "\`";
          sql += i;
          sql += "\`";
          sql += ",";
        }

        sql = sql.slice(0, -1);
        sql += ") VALUES (";

        for (let i in this) {
          if (typeof this[i] === "number") {
            sql += this[i];
          } else {
            sql += "'";
            sql += this[i].replace(/'/g, '"');
            sql += "'";
          }
          sql += ",";
        }

        sql = sql.slice(0, -1);
        sql += ");";

        return sql;
      }
    }

    let tong, tempArr;
    let sample, model;

    tong = new SqlTong();

    for (let i of this) {
      tempArr = i.dimensionSqueeze();
      for (let j of tempArr) {
        tong.push(new SqlTongFactor(j));
      }
    }

    if (tong.length > 0) {
      sample = tong[0];
      model = new SqlModel(sample);
      return { model, data: tong };
    } else {
      return null;
    }
  }

  Aspirants.prototype.search = function (aspid) {
    let result = null;
    for (let i of this) {
      if (i.aspid === aspid) {
        result = i;
        break;
      }
    }
    return result;
  }

  Aspirants.prototype.find = function (aspid) {
    return this.search(aspid);
  }

  return Aspirants;
}

module.exports = { AspirantMap, Aspirant, Aspirants, Tools: { withTools, withToolsArr } };
