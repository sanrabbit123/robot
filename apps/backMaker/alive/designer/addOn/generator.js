const DesignerSampleData = {
  "designer": "오지은",
  "desid": "d2310_aa07s",
  "information": {
    "contract": {
      "status": "협약 완료",
      "date": new Date("2023-10-24T15:00:00.000Z")
    },
    "phone": "010-2418-2308",
    "email": "dhwldms2308@naver.com",
    "birth": new Date("1995-04-04T15:00:00.000Z"),
    "marry": false,
    "child": [],
    "cat": false,
    "dog": false,
    "did": "d105",
    "address": [
      "경기 성남시 수정구 복정로 53 (복정동) 301호"
    ],
    "residentNunber": "950405-2472416",
    "personalSystem": {
      "showRoom": false,
      "webPage": [],
      "sns": []
    },
    "business": {
      "career": {
        "relatedY": 6,
        "relatedM": 5,
        "startY": 2023,
        "startM": 10,
        "detail": [
          {
            "company": "한스디자인",
            "team": "디자인팀",
            "role": "모델하우스 디스플레이",
            "tag": "모델하우스",
            "date": {
              "start": new Date("2016-11-21T15:00:00.000Z"),
              "end": new Date("2023-04-21T15:00:00.000Z")
            }
          }
        ],
        "school": [
          {
            "school": "동서울대학교",
            "major": "실내디자인",
            "date": {
              "start": new Date("2014-02-02T15:00:00.000Z"),
              "end": new Date("2017-02-02T15:00:00.000Z")
            }
          }
        ]
      },
      "account": [
        {
          "bankName": "기업은행",
          "accountNumber": "01024182308",
          "to": "오지은"
        }
      ],
      "businessInfo": {
        "classification": "프리랜서",
        "businessNumber": "950405",
        "files": {
          "businessRegistration": false,
          "bankBook": false,
          "registrationCard": false
        }
      },
      "service": {
        "cost": {
          "matrix": {
            "service": [
              {
                "serid": "s2011_aa01s",
                "case": 9
              },
              {
                "serid": "s2011_aa02s",
                "case": 11
              },
              {
                "serid": "s2011_aa03s",
                "case": 9
              }
            ],
            "online": true
          },
          "percentage": 30,
          "percentageHistory": []
        },
        "construct": {
          "partner": "",
          "method": ""
        }
      }
    }
  },
  "analytics": {
    "region": {
      "transportation": "대중교통",
      "range": 50,
      "expenses": 70,
      "construct": 50
    },
    "project": {
      "time": {
        "first": 7,
        "entire": 30
      },
      "paperWork": [],
      "cad": true,
      "collage": true,
      "modeling": 2,
      "online": true,
      "living": true,
      "partial": true,
      "matrix": [
        [
          1,
          1,
          1
        ],
        [
          0,
          0,
          0
        ],
        [
          0,
          0,
          0
        ],
        [
          0,
          0,
          0
        ]
      ],
      "operationBudget": {
        "min": 5000000,
        "max": 10000000
      }
    },
    "construct": {
      "ability": 0,
      "level": 0,
      "possible": {
        "supervision": true
      },
      "case": [
        {
          "name": "homeStyling",
          "contract": [
            "협업사 계약"
          ],
          "possible": []
        },
        {
          "name": "totalStyling",
          "contract": [
            "협업사 계약"
          ],
          "possible": []
        },
        {
          "name": "architecture",
          "contract": [
            "협업사 계약"
          ],
          "possible": []
        }
      ],
      "partner": false,
      "partnerName": "",
      "own": false,
      "ownName": "",
      "range": 2,
      "major": ""
    },
    "styling": {
      "level": 1,
      "method": "순차 제안",
      "tendency": {
        "style": {
          "modern": 10,
          "classic": 0,
          "natural": 5,
          "mixmatch": 5,
          "scandinavian": 5,
          "vintage": 0,
          "oriental": 0,
          "exotic": 0
        },
        "texture": {
          "darkWood": 5,
          "whiteWood": 5,
          "coating": 10,
          "metal": 10
        },
        "color": {
          "darkWood": 5,
          "whiteWood": 5,
          "highContrast": 8,
          "vivid": 8,
          "white": 10,
          "mono": 10,
          "bright": 10,
          "dark": 8
        },
        "density": {
          "maximun": 6,
          "minimum": 6
        }
      },
      "furniture": {
        "builtin": 1,
        "builtinDetail": [],
        "design": 3,
        "designDetail": []
      },
      "fabric": {
        "level": 3,
        "curtain": [
          "업체 연결"
        ],
        "bedding": [
          "업체 연결"
        ]
      }
    },
    "purchase": {
      "agencies": false,
      "setting": {
        "install": false,
        "storage": false
      }
    },
    "etc": {
      "personality": [
        {
          "name": "현장(최초) 미팅 전 심도 있게 준비하는 편",
          "value": false
        },
        {
          "name": "고객 미팅 회수에 연연하지 않는 편",
          "value": false
        },
        {
          "name": "디자인 제안 속도가 상대적으로 빠른 편",
          "value": false
        },
        {
          "name": "디자인 기획을 리드하는 편",
          "value": false
        },
        {
          "name": "디자인 기획시 고객에게 맞추는 편",
          "value": false
        }
      ],
      "relation": "확인중"
    },
    "personality": {
      "operation": 1,
      "design": 1,
      "efficient": 1,
      "communication": 1,
      "homeliaison": 1
    },
    "grade": -1
  },
  "realTime": {
    "availableDate": []
  },
  "setting": {
    "front": {
      "introduction": {
        "desktop": [
          "안녕하세요 오지은 디자이너 입니다.",
          "주거 모델하우스 실무 경험이 다수 있으며,",
          "고객이 원하는 컨셉과 무드를 제안하여 만족하실 수 있는",
          "공간을 만들어 드리도록 최선을 다하겠습니다. 감사합니다."
        ],
        "mobile": [
          "안녕하세요 오지은 디자이너 입니다.",
          "주거 모델하우스 실무 경험이 다수 있으며,",
          "고객이 원하는 컨셉과 무드를 제안하여 만족하실 수 있는",
          "공간을 만들어 드리도록 최선을 다하겠습니다. 감사합니다."
        ]
      },
      "methods": [
        "mth0",
        "mth7"
      ],
      "photo": {
        "porlid": "p369",
        "index": "t2"
      },
      "order": 748
    },
    "proposal": [
      {
        "name": "기본 세팅",
        "photo": [
          {
            "position": "0",
            "sgTrue": "g",
            "unionPo": "union",
            "styleText": "width: 66.5%; height: 66%; top: 0%; left: 0%; background-image: url(\"/rawDesigner/ghost/d2310_aa07s/g1.jpg\");",
            "imgSrc": "/rawDesigner/ghost/d2310_aa07s/g1.jpg"
          },
          {
            "position": "1",
            "sgTrue": "s",
            "unionPo": "right",
            "styleText": "width: 32.8%; height: 66%; top: 0%; left: 67.2%; background-image: url(\"/rawDesigner/ghost/d2310_aa07s/g2.jpg\");",
            "imgSrc": "/rawDesigner/ghost/d2310_aa07s/g2.jpg"
          },
          {
            "position": "2",
            "sgTrue": "g",
            "unionPo": "union",
            "imgSrc": "/rawDesigner/ghost/d2310_aa07s/g4.jpg",
            "styleText": "top: 67%; left: 0%; width: 32.8%; height: 33%; background-image: url(\"/rawDesigner/ghost/d2310_aa07s/g4.jpg\");"
          },
          {
            "position": "3",
            "sgTrue": "g",
            "unionPo": "union",
            "imgSrc": "/rawDesigner/ghost/d2310_aa07s/g7.jpg",
            "styleText": "top: 67%; left: 33.5%; width: 33%; height: 33%; background-image: url(\"/rawDesigner/ghost/d2310_aa07s/g7.jpg\");"
          },
          {
            "position": "4",
            "sgTrue": "g",
            "unionPo": "union",
            "imgSrc": "/rawDesigner/ghost/d2310_aa07s/g8.jpg",
            "styleText": "top: 67%; left: 67.2%; width: 32.8%; height: 33%; background-image: url(\"/rawDesigner/ghost/d2310_aa07s/g8.jpg\");"
          }
        ],
        "description": [
          "고객님의 상황과 라이프 스타일에 대한 이해도를 바탕으로 고객 맞춤형 제안을 해드릴 수 있습니다.",
          "친절하고 밝은 성격의 소유자로 고객님과 즐겁게 소통하며 프로젝트를 이끌어 나갈 수 있습니다.",
          "센스 있는 감각으로 고객님의 집을 트렌디하고 고급스럽게 만들어 드릴 수 있습니다."
        ]
      },
      {
        "name": "기본 세팅",
        "photo": [
          {
            "position": "0",
            "sgTrue": "g",
            "unionPo": "union",
            "styleText": "width: 66.5%; height: 66%; top: 0%; left: 0%; background-image: url(\"/rawDesigner/ghost/d2310_aa07s/g1.jpg\");",
            "imgSrc": "/rawDesigner/ghost/d2310_aa07s/g1.jpg"
          },
          {
            "position": "1",
            "sgTrue": "s",
            "unionPo": "right",
            "styleText": "width: 32.8%; height: 66%; top: 0%; left: 67.2%; background-image: url(\"/rawDesigner/ghost/d2310_aa07s/g2.jpg\");",
            "imgSrc": "/rawDesigner/ghost/d2310_aa07s/g2.jpg"
          },
          {
            "position": "2",
            "sgTrue": "g",
            "unionPo": "union",
            "imgSrc": "/rawDesigner/ghost/d2310_aa07s/g4.jpg",
            "styleText": "top: 67%; left: 0%; width: 32.8%; height: 33%; background-image: url(\"/rawDesigner/ghost/d2310_aa07s/g4.jpg\");"
          },
          {
            "position": "3",
            "sgTrue": "g",
            "unionPo": "union",
            "imgSrc": "/rawDesigner/ghost/d2310_aa07s/g7.jpg",
            "styleText": "top: 67%; left: 33.5%; width: 33%; height: 33%; background-image: url(\"/rawDesigner/ghost/d2310_aa07s/g7.jpg\");"
          },
          {
            "position": "4",
            "sgTrue": "g",
            "unionPo": "union",
            "imgSrc": "/rawDesigner/ghost/d2310_aa07s/g8.jpg",
            "styleText": "top: 67%; left: 67.2%; width: 32.8%; height: 33%; background-image: url(\"/rawDesigner/ghost/d2310_aa07s/g8.jpg\");"
          }
        ],
        "description": [
          "고객님의 상황과 라이프 스타일에 대한 이해도를 바탕으로 고객 맞춤형 제안을 해드릴 수 있습니다.",
          "친절하고 밝은 성격의 소유자로 고객님과 즐겁게 소통하며 프로젝트를 이끌어 나갈 수 있습니다.",
          "센스 있는 감각으로 고객님의 집을 트렌디하고 고급스럽게 만들어 드릴 수 있습니다."
        ]
      },
      {
        "name": "기본 세팅",
        "photo": [
          {
            "position": "0",
            "sgTrue": "g",
            "unionPo": "union",
            "styleText": "width: 66.5%; height: 66%; top: 0%; left: 0%; background-image: url(\"/rawDesigner/ghost/d2310_aa07s/g1.jpg\");",
            "imgSrc": "/rawDesigner/ghost/d2310_aa07s/g1.jpg"
          },
          {
            "position": "1",
            "sgTrue": "s",
            "unionPo": "right",
            "styleText": "width: 32.8%; height: 66%; top: 0%; left: 67.2%; background-image: url(\"/rawDesigner/ghost/d2310_aa07s/g2.jpg\");",
            "imgSrc": "/rawDesigner/ghost/d2310_aa07s/g2.jpg"
          },
          {
            "position": "2",
            "sgTrue": "g",
            "unionPo": "union",
            "imgSrc": "/rawDesigner/ghost/d2310_aa07s/g4.jpg",
            "styleText": "top: 67%; left: 0%; width: 32.8%; height: 33%; background-image: url(\"/rawDesigner/ghost/d2310_aa07s/g4.jpg\");"
          },
          {
            "position": "3",
            "sgTrue": "g",
            "unionPo": "union",
            "imgSrc": "/rawDesigner/ghost/d2310_aa07s/g7.jpg",
            "styleText": "top: 67%; left: 33.5%; width: 33%; height: 33%; background-image: url(\"/rawDesigner/ghost/d2310_aa07s/g7.jpg\");"
          },
          {
            "position": "4",
            "sgTrue": "g",
            "unionPo": "union",
            "imgSrc": "/rawDesigner/ghost/d2310_aa07s/g8.jpg",
            "styleText": "top: 67%; left: 67.2%; width: 32.8%; height: 33%; background-image: url(\"/rawDesigner/ghost/d2310_aa07s/g8.jpg\");"
          }
        ],
        "description": [
          "고객님의 상황과 라이프 스타일에 대한 이해도를 바탕으로 고객 맞춤형 제안을 해드릴 수 있습니다.",
          "친절하고 밝은 성격의 소유자로 고객님과 즐겁게 소통하며 프로젝트를 이끌어 나갈 수 있습니다.",
          "센스 있는 감각으로 고객님의 집을 트렌디하고 고급스럽게 만들어 드릴 수 있습니다."
        ]
      },
      {
        "name": "기본 세팅",
        "photo": [
          {
            "position": "0",
            "sgTrue": "g",
            "unionPo": "union",
            "styleText": "width: 66.5%; height: 66%; top: 0%; left: 0%; background-image: url(\"/rawDesigner/ghost/d2310_aa07s/g1.jpg\");",
            "imgSrc": "/rawDesigner/ghost/d2310_aa07s/g1.jpg"
          },
          {
            "position": "1",
            "sgTrue": "s",
            "unionPo": "right",
            "styleText": "width: 32.8%; height: 66%; top: 0%; left: 67.2%; background-image: url(\"/rawDesigner/ghost/d2310_aa07s/g2.jpg\");",
            "imgSrc": "/rawDesigner/ghost/d2310_aa07s/g2.jpg"
          },
          {
            "position": "2",
            "sgTrue": "g",
            "unionPo": "union",
            "imgSrc": "/rawDesigner/ghost/d2310_aa07s/g4.jpg",
            "styleText": "top: 67%; left: 0%; width: 32.8%; height: 33%; background-image: url(\"/rawDesigner/ghost/d2310_aa07s/g4.jpg\");"
          },
          {
            "position": "3",
            "sgTrue": "g",
            "unionPo": "union",
            "imgSrc": "/rawDesigner/ghost/d2310_aa07s/g7.jpg",
            "styleText": "top: 67%; left: 33.5%; width: 33%; height: 33%; background-image: url(\"/rawDesigner/ghost/d2310_aa07s/g7.jpg\");"
          },
          {
            "position": "4",
            "sgTrue": "g",
            "unionPo": "union",
            "imgSrc": "/rawDesigner/ghost/d2310_aa07s/g8.jpg",
            "styleText": "top: 67%; left: 67.2%; width: 32.8%; height: 33%; background-image: url(\"/rawDesigner/ghost/d2310_aa07s/g8.jpg\");"
          }
        ],
        "description": [
          "고객님의 상황과 라이프 스타일에 대한 이해도를 바탕으로 고객 맞춤형 제안을 해드릴 수 있습니다.",
          "친절하고 밝은 성격의 소유자로 고객님과 즐겁게 소통하며 프로젝트를 이끌어 나갈 수 있습니다.",
          "센스 있는 감각으로 고객님의 집을 트렌디하고 고급스럽게 만들어 드릴 수 있습니다."
        ]
      },
      {
        "name": "기본 세팅",
        "photo": [
          {
            "position": "0",
            "sgTrue": "g",
            "unionPo": "union",
            "styleText": "width: 66.5%; height: 66%; top: 0%; left: 0%; background-image: url(\"/rawDesigner/ghost/d2310_aa07s/g1.jpg\");",
            "imgSrc": "/rawDesigner/ghost/d2310_aa07s/g1.jpg"
          },
          {
            "position": "1",
            "sgTrue": "s",
            "unionPo": "right",
            "styleText": "width: 32.8%; height: 66%; top: 0%; left: 67.2%; background-image: url(\"/rawDesigner/ghost/d2310_aa07s/g2.jpg\");",
            "imgSrc": "/rawDesigner/ghost/d2310_aa07s/g2.jpg"
          },
          {
            "position": "2",
            "sgTrue": "g",
            "unionPo": "union",
            "imgSrc": "/rawDesigner/ghost/d2310_aa07s/g4.jpg",
            "styleText": "top: 67%; left: 0%; width: 32.8%; height: 33%; background-image: url(\"/rawDesigner/ghost/d2310_aa07s/g4.jpg\");"
          },
          {
            "position": "3",
            "sgTrue": "g",
            "unionPo": "union",
            "imgSrc": "/rawDesigner/ghost/d2310_aa07s/g7.jpg",
            "styleText": "top: 67%; left: 33.5%; width: 33%; height: 33%; background-image: url(\"/rawDesigner/ghost/d2310_aa07s/g7.jpg\");"
          },
          {
            "position": "4",
            "sgTrue": "g",
            "unionPo": "union",
            "imgSrc": "/rawDesigner/ghost/d2310_aa07s/g8.jpg",
            "styleText": "top: 67%; left: 67.2%; width: 32.8%; height: 33%; background-image: url(\"/rawDesigner/ghost/d2310_aa07s/g8.jpg\");"
          }
        ],
        "description": [
          "고객님의 상황과 라이프 스타일에 대한 이해도를 바탕으로 고객 맞춤형 제안을 해드릴 수 있습니다.",
          "친절하고 밝은 성격의 소유자로 고객님과 즐겁게 소통하며 프로젝트를 이끌어 나갈 수 있습니다.",
          "센스 있는 감각으로 고객님의 집을 트렌디하고 고급스럽게 만들어 드릴 수 있습니다."
        ]
      }
    ],
    "ghost": [
      {
        "link": "/rawDesigner/ghost/d2310_aa07s/g9.jpg",
        "sgTrue": "g"
      },
      {
        "link": "/rawDesigner/ghost/d2310_aa07s/g8.jpg",
        "sgTrue": "g"
      },
      {
        "link": "/rawDesigner/ghost/d2310_aa07s/g7.jpg",
        "sgTrue": "g"
      },
      {
        "link": "/rawDesigner/ghost/d2310_aa07s/g6.jpg",
        "sgTrue": "g"
      },
      {
        "link": "/rawDesigner/ghost/d2310_aa07s/g5.jpg",
        "sgTrue": "g"
      },
      {
        "link": "/rawDesigner/ghost/d2310_aa07s/g4.jpg",
        "sgTrue": "g"
      },
      {
        "link": "/rawDesigner/ghost/d2310_aa07s/g3.jpg",
        "sgTrue": "g"
      },
      {
        "link": "/rawDesigner/ghost/d2310_aa07s/g2.jpg",
        "sgTrue": "s"
      },
      {
        "link": "/rawDesigner/ghost/d2310_aa07s/g10.jpg",
        "sgTrue": "g"
      },
      {
        "link": "/rawDesigner/ghost/d2310_aa07s/g1.jpg",
        "sgTrue": "g"
      }
    ],
    "description": [
      "고객님의 상황과 라이프 스타일에 대한 이해도를 바탕으로 고객 맞춤형 제안을 해드릴 수 있습니다.",
      "친절하고 밝은 성격의 소유자로 고객님과 즐겁게 소통하며 프로젝트를 이끌어 나갈 수 있습니다.",
      "센스 있는 감각으로 고객님의 집을 트렌디하고 고급스럽게 만들어 드릴 수 있습니다."
    ]
  }
}

const DesignerMap = {
  main: function () {
    let dummy;
    dummy = {
      structure: {
        designer: "",
        desid: "",
        information: {
          contract: {
            status: "협약 완료",
            date: new Date(1800, 0, 1),
          },
          phone: "",
          email: "",
          birth: new Date(1800, 0, 1),
          marry: false,
          child: [],
          cat: false,
          dog: false,
          did: "",
          address: [],
          residentNunber: "",
          personalSystem: {
            showRoom: false,
            webPage: [],
            sns: [],
          },
          business: {
            career: {
              relatedY: 0,
              relatedM: 0,
              startY: 0,
              startM: 0,
              detail: [],
              school: [],
            },
            account: [],
            businessInfo: {
              classification: "",
              businessNumber: "",
              files: {
                businessRegistration: false,
                bankBook: false,
                registrationCard: false
              },
            },
            service: {
              cost: {
                matrix: {
                  service: [
                    {
                      serid: "s2011_aa01s",
                      case: 9
                    },
                    {
                      serid: "s2011_aa02s",
                      case: 11
                    },
                    {
                      serid: "s2011_aa03s",
                      case: 9
                    }
                  ],
                  online: true
                },
                percentage: 30,
                percentageHistory: []
              },
              construct: {
                partner: "",
                method: "",
              },
            },
          }
        },
        analytics: {
          region: {
            transportation: "자동차",
            range: 40,
            expenses: 50,
            construct: 50
          },
          project: {
            time: {
              first: 7,
              entire: 30,
            },
            paperWork: [],
            cad: true,
            collage: true,
            modeling: 1,
            online: true,
            living: true,
            partial: false,
            matrix: [],
            operationBudget: {
              min: 5000000,
              max: 10000000
            }
          },
          construct: {
            ability: 1,
            level: 1,
            possible: {
              supervision: true,
            },
            case: [
              {
                name: "homeStyling",
                contract: [ "협업사 계약" ],
                possible: [],
              },
              {
                name: "totalStyling",
                contract: [ "협업사 계약" ],
                possible: [],
              },
              {
                name: "architecture",
                contract: [ "협업사 계약" ],
                possible: [],
              }
            ],
            partner: false,
            partnerName: "",
            own: false,
            ownName: "",
            range: 2,
            major: "",
          },
          styling: {
            level: 1,
            method: "순차 제안",
            tendency: {
              style: {
                modern: 0,
                classic: 0,
                natural: 0,
                mixmatch: 0,
                scandinavian: 0,
                vintage: 0,
                oriental: 0,
                exotic: 0,
              },
              texture: {
                darkWood: 0,
                whiteWood: 0,
                coating: 0,
                metal: 0
              },
              color: {
                darkWood: 0,
                whiteWood: 0,
                highContrast: 0,
                vivid: 0,
                white: 0,
                mono: 0,
                bright: 0,
                dark: 0,
              },
              density: {
                maximun: 0,
                minimum: 0,
              }
            },
            furniture: {
              builtin: 1,
              builtinDetail: [],
              design: 1,
              designDetail: [],
            },
            fabric: {
              level: 1, 
              curtain: [ "업체 연결" ],
              bedding: [ "업체 연결" ]
            }
          },
          purchase: {
            agencies: false,
            setting: {
              install: false,
              storage: false,
            },
          },
          etc: {
            personality: [
              { name: "현장(최초) 미팅 전 심도 있게 준비하는 편", value: false },
              { name: "고객 미팅 회수에 연연하지 않는 편", value: false },
              { name: "디자인 제안 속도가 상대적으로 빠른 편", value: false },
              { name: "디자인 기획을 리드하는 편", value: false },
              { name: "디자인 기획시 고객에게 맞추는 편", value: false },
            ],
            relation: "확인중"
          },
          personality: {
            operation: 1,
            design: 1,
            efficient: 1,
            communication: 1,
            homeliaison: 1,
          },
          grade: 0,
        },
        realTime: {
          availableDate: [],
        },
        setting: {
          front: {
            introduction: {
              desktop: [],
              mobile: [],
            },
            methods: [],
            photo: {
              porlid: "",
              index: "",
            },
            order: 0,
          },
          proposal: [],
          ghost: [],
          description: [],
        },
      },
    };
    return dummy;
  },
  sub: function (subject) {
    let dummy = null;
    if (subject === "setting.proposal") {
      dummy = {
          name : "기본 세팅",
          photo : [
            {
              position: "0",
              sgTrue: "g",
              unionPo: "union",
              styleText: "width: 66.5%;height: 66%;top: 0%;left: 0%;"
            },
            {
              position: "1",
              sgTrue: "s",
              unionPo: "right",
              styleText: "width: 32.8%;height: 66%;top: 0%;left: 67.2%;"
            },
            {
              position: "2",
              sgTrue: "g",
              unionPo: "union",
              styleText: "width: 32.8%;height: 33%;top: 67%;left: 0%;"
            },
            {
              position: "3",
              sgTrue: "g",
              unionPo: "union",
              styleText: "width: 33%;height: 33%;top: 67%;left: 33.5%;"
            },
            {
              position: "4",
              sgTrue: "g",
              unionPo: "union",
              styleText: "width: 32.8%;height: 33%;top: 67%;left: 67.2%;"
            }
          ],
          description : [
            "NULL",
            "NULL",
            "NULL"
          ]
      };
    } else if (subject === "information.business.career.detail") {
      dummy = {
        company: "",
        team: "",
        role: "",
        tag: "",
        date: {
          start: new Date(1800, 0, 1),
          end: new Date(1800, 1, 1),
        }
      };
    } else if (subject === "information.business.career.school") {
      dummy = {
        school: "",
        major: "",
        date: {
          start: new Date(1800, 0, 1),
          end: new Date(1800, 1, 1),
        }
      };
    }
    return dummy;
  }
}

class Address {
  constructor (rawString) {
    this.raw = rawString;
    this.value = rawString;
  }

  toNormal () {
    return this.value;
  }
}

class DateParse extends Date {

  constructor(dateObject) {
    let tempArr0, tempArr1, tempArr2;
    if (typeof dateObject === "string") {
      if (dateObject.length === 19) {
        tempArr0 = dateObject.split(" ");
        tempArr1 = tempArr0[0].split("-");
        tempArr2 = tempArr0[1].split(":");
        super(new Date(Number(tempArr1[0]), Number(tempArr1[1]) - 1, Number(tempArr1[2]), Number(tempArr2[0]), Number(tempArr2[1]), Number(tempArr2[2])));
      } else if (dateObject.length === 10) {
        tempArr1 = dateObject.split("-");
        super(new Date(Number(tempArr1[0]), Number(tempArr1[1]) - 1, Number(tempArr1[2])));
      } else {
        throw new Error("invalid date object");
      }
    } else {
      super(dateObject.toISOString());
    }
  }

  static zeroAddition(number) {
    if (number > 9) {
      return String(number);
    } else {
      return '0' + String(number);
    }
  }

  toString(detail = false) {
    const year = this.getFullYear();
    const month = this.getMonth() + 1;
    const day = this.getDate();
    const hours = this.getHours();
    const minutes = this.getMinutes();
    const seconds = this.getSeconds();
    if (detail) {
      if (year === 1800) {
        return "1800-01-01";
      } else {
        return (DateParse.zeroAddition(year) + "-" + DateParse.zeroAddition(month) + "-" + DateParse.zeroAddition(day) + " " + DateParse.zeroAddition(hours) + ":" + DateParse.zeroAddition(minutes) + ":" + DateParse.zeroAddition(seconds));
      }
    } else {
      if (year === 1800) {
        return "1800-01-01";
      } else {
        return (DateParse.zeroAddition(year) + "-" + DateParse.zeroAddition(month) + "-" + DateParse.zeroAddition(day));
      }
    }
  }

  toNormal() {
    return new Date(this.toISOString());
  }

  toSixString() {
    let date = this.toString(false);
    return (date.slice(2, 4) + date.slice(5, 7) + date.slice(8, 10));
  }

}

class Menu extends String {

  constructor (value, items, multiple = false) {
    if (Array.isArray(value)) {
      super('');
    } else {
      super(value);
    }
    this.value = null;
    this.values = null;
    this.items = items;
    let temp;
    if (!multiple) {
      if (items.includes(value)) {
        this.value = value;
      } else {
        this.value = "알 수 없음";
      }
    } else {
      temp = [];
      for (let i of value) {
        if (items.includes(i)) {
          temp.push(i);
        }
      }
      this.values = temp;
    }
  }

  toNormal () {
    if (this.values === null) {
      return this.value;
    } else {
      return this.values;
    }
  }
  
}

class Designer {
  constructor(json) {
    this.designer = json.designer;
    this.desid = json.desid;
    this.information = new this.#DesignerInformation(json.information);
    this.analytics = new this.#HomeLiaisonAnalytics(json.analytics);
    this.realTime = new this.#DesignerRealTime(json.realTime);
    this.setting = new this.#DesignerSetting(json.setting);
  }

  toNormal() {
    return {
      designer: this.designer,
      desid: this.desid,
      information: this.information.toNormal(),
      analytics: this.analytics.toNormal(),
      realTime: this.realTime.toNormal(),
      setting: this.setting.toNormal(),
    };
  }

  frontMode() {
    const obj = {
      designer: this.designer,
      desid: this.desid,
      information: {
        contract: this.information.contract.toNormal(),
        business: this.information.business.toNormal(),
      },
      analytics: {
        grade: this.analytics.grade,
        project: {
          matrix: this.analytics.project.matrix.toNormal(),
        },
      },
      setting: {
        front: this.setting.front.toNormal(),
        description: this.setting.description,
      },
      service: this.analytics.project.matrix
        .toNormal()
        .map((arr) => (arr.some((i) => i === 1) ? 1 : 0)),
      tag: [this.designer, this.desid],
    };

    const tendencyStandards = [
      { column: "classic", name: "클래식" },
      { column: "exotic", name: "엑조틱" },
      { column: "mixmatch", name: "믹스매치" },
      { column: "modern", name: "모던" },
      { column: "natural", name: "내추럴" },
      { column: "oriental", name: "동양" },
      { column: "scandinavian", name: "북유럽" },
      { column: "vintage", name: "빈티지" },
    ];

    for (let o of tendencyStandards) {
      o.value = this.analytics.styling.tendency.style[o.column];
    }

    tendencyStandards.sort((a, b) => b.value - a.value);
    obj.styleTendency = tendencyStandards;

    if (this.analytics.project.online) {
      obj.tag.push("온라인");
    }
    if (this.analytics.project.living) {
      obj.tag.push("거주중");
    }

    obj.tag = obj.tag.concat(this.analytics.project.paperWork.toNormal());

    if (this.analytics.styling.furniture.builtin) {
      obj.tag.push("붙박이장", "빌트인", "장");
    }
    if (this.analytics.styling.furniture.design) {
      obj.tag.push(
        "제작가구",
        "가구",
        "제작",
        "제작 가구",
        "디자인가구",
        "디자인 가구"
      );
    }
    if (
      this.analytics.styling.fabric.curtain.toNormal().includes("직접 제작") ||
      this.analytics.styling.fabric.bedding.toNormal().includes("직접 제작")
    ) {
      obj.tag.push(
        "패브릭",
        "패브릭 제작",
        "패브릭제작",
        "제작 패브릭",
        "제작패브릭"
      );
    }

    return obj;
  }

  #DesignerInformation = class {
    constructor(json) {
      this.contract = new this.#Contract(json.contract);
      this.phone = json.phone;
      this.email = json.email;
      this.birth = new DateParse(json.birth);
      this.marry = json.marry;
      this.child = new Menu(json.child, ["미취학", "어린이", "청소년", "성인"], true);
      this.cat = json.cat;
      this.dog = json.dog;
      this.did = json.did;
      this.address = new this.#Addresses();
      for (let i of json.address) {
        const tempInstance = new Address(i);
        this.address.push(tempInstance);
      }
      this.residentNunber = json.residentNunber;
      this.personalSystem = new this.#PersonalSystem(json.personalSystem);
      this.business = new this.#Business(json.business);
    }
  
    toNormal() {
      return {
        contract: this.contract.toNormal(),
        phone: this.phone,
        email: this.email,
        birth: this.birth.toNormal(),
        marry: this.marry,
        child: this.child.toNormal(),
        cat: this.cat,
        dog: this.dog,
        did: this.did,
        address: this.address.toNormal(),
        residentNunber: this.residentNunber,
        personalSystem: this.personalSystem.toNormal(),
        business: this.business.toNormal(),
      };
    }
  
    #PersonalSystem = class {
      constructor(json) {
        this.showRoom = json.showRoom;
        this.webPage = new this.#WebPages();
        for (let i of json.webPage) {
          const tempInstance = new this.#WebPage(i);
          this.webPage.push(tempInstance);
        }
        this.sns = new this.#Snses();
        for (let i of json.sns) {
          const tempInstance = new this.#Sns(i);
          this.sns.push(tempInstance);
        }
      }
    
      toNormal() {
        return {
          showRoom: this.showRoom,
          webPage: this.webPage.toNormal(),
          sns: this.sns.toNormal(),
        };
      }
    
      #WebPages = class extends Array {
        toNormal() {
          let arr = [];
          for (let i of this) {
            arr.push(i.toNormal());
          }
          return arr;
        }
      }
      
      #WebPage = class {
        constructor(json) {
          this.value = json;
        }
      
        toNormal() {
          return this.value;
        }
      }
      
      #Snses = class extends Array {
        toNormal() {
          let arr = [];
          for (let i of this) {
            arr.push(i.toNormal());
          }
          return arr;
        }
      }
      
      #Sns = class {
        constructor(json) {
          this.kind = json.kind;
          this.href = json.href;
        }
      
        toNormal() {
          return {
            kind: this.kind,
            href: this.href,
          };
        }
      }
    }
    
    #Business = class {
      constructor(json) {
        this.career = new this.#Career(json.career);
        this.account = new this.#Accounts();
        for (let i of json.account) {
          const tempInstance = new this.#Account(i);
          this.account.push(tempInstance);
        }
        this.businessInfo = new this.#BusinessInfo(json.businessInfo);
        this.service = new this.#Service(json.service);
      }
    
      toNormal() {
        return {
          career: this.career.toNormal(),
          account: this.account.toNormal(),
          businessInfo: this.businessInfo.toNormal(),
          service: this.service.toNormal(),
        };
      }
    
      #Career = class {
        constructor(json) {
          this.relatedY = Number(json.relatedY);
          this.relatedM = Number(json.relatedM);
          this.startY = Number(json.startY);
          this.startM = Number(json.startM);
          this.detail = new this.#CareerDetail(json.detail);
          this.school = new this.#SchoolDetail(json.school);
        }
      
        toNormal() {
          return {
            relatedY: this.relatedY,
            relatedM: this.relatedM,
            startY: this.startY,
            startM: this.startM,
            detail: this.detail.toNormal(),
            school: this.school.toNormal(),
          };
        }
      
        #SchoolDetail = class extends Array {
          constructor(json) {
            super();
            let tempInstance;
            for (let i of json) {
              tempInstance = new this.#SchoolDetailFactor(i);
              this.push(tempInstance);
            }
          }
          toNormal() {
            let arr = [];
            for (let i of this) {
              arr.push(i.toNormal());
            }
            return arr;
          }
          #SchoolDetailFactor = class {
            constructor(json) {
              this.school = json.school;
              this.major = json.major;
              this.date = new this.#SchoolDetailFactorDate(json.date);
            }
          
            toNormal() {
              return {
                school: this.school,
                major: this.major,
                date: this.date.toNormal(),
              };
            }
          
            #SchoolDetailFactorDate = class {
              constructor(json) {
                this.start = new DateParse(json.start);
                this.end = new DateParse(json.end);
              }
            
              toNormal() {
                return {
                  start: this.start.toNormal(),
                  end: this.end.toNormal(),
                };
              }
            }
          }
        }
        
        #CareerDetail = class extends Array {
          constructor(json) {
            super();
            let tempInstance;
            for (let i of json) {
              tempInstance = new this.#CareerDetailFactor(i);
              this.push(tempInstance);
            }
          }
          toNormal() {
            let arr = [];
            for (let i of this) {
              arr.push(i.toNormal());
            }
            return arr;
          }
          #CareerDetailFactor = class {
            constructor(json) {
              this.company = json.company;
              this.team = json.team;
              this.role = json.role;
              this.tag = json.tag;
              this.date = new this.#CareerDetailFactorDate(json.date);
            }
          
            toNormal() {
              return {
                company: this.company,
                team: this.team,
                role: this.role,
                tag: this.tag,
                date: this.date.toNormal(),
              };
            }
          
            #CareerDetailFactorDate = class {
              constructor(json) {
                this.start = new DateParse(json.start);
                this.end = new DateParse(json.end);
              }
            
              toNormal() {
                return {
                  start: this.start.toNormal(),
                  end: this.end.toNormal(),
                };
              }
            }
          }
        }
      }
    
      #Accounts = class extends Array {
        toNormal() {
          let arr = [];
          for (let i of this) {
            arr.push(i.toNormal());
          }
          return arr;
        }
      }
      
      #Account = class {
        constructor(json) {
          this.bankName = json.bankName;
          this.accountNumber = json.accountNumber;
          this.to = json.to;
        }
      
        toNormal() {
          return {
            bankName: this.bankName,
            accountNumber: this.accountNumber,
            to: this.to,
          };
        }
      }
    
      #BusinessInfo = class {
        constructor(json) {
          this.classification = new Menu(json.classification, [
            "법인사업자(일반)",
            "법인사업자(간이)",
            "개인사업자(일반)",
            "개인사업자(간이)",
            "프리랜서",
          ], false);
          this.businessNumber = json.businessNumber;
          this.files = new this.#BusinessFiles(json.files);
        }
      
        toNormal() {
          return {
            classification: this.classification.toNormal(),
            businessNumber: this.businessNumber,
            files: this.files.toNormal(),
          };
        }
      
        #BusinessFiles = class {
          constructor(json) {
            this.businessRegistration = json.businessRegistration;
            this.bankBook = json.bankBook;
            this.registrationCard = json.registrationCard;
          }
        
          toNormal() {
            return {
              businessRegistration: this.businessRegistration,
              bankBook: this.bankBook,
              registrationCard: this.registrationCard,
            };
          }
        }
      }
      
      #Service = class {
        constructor(json) {
          this.cost = new this.#Cost(json.cost);
          this.construct = new this.#Construct(json.construct);
        }
      
        toNormal() {
          return {
            cost: this.cost.toNormal(),
            construct: this.construct.toNormal(),
          };
        }
      
        #Cost = class {
          constructor(json) {
            this.matrix = new this.#Matrix(json.matrix);
            this.percentage = json.percentage;
            this.percentageHistory = new this.#PercentageHistory();
            for (let i of json.percentageHistory) {
              const tempInstance = new this.#PastPercentage(i);
              this.percentageHistory.push(tempInstance);
            }
          }
        
          toNormal() {
            return {
              matrix: this.matrix.toNormal(),
              percentage: this.percentage,
              percentageHistory: this.percentageHistory.toNormal(),
            };
          }
        
          #Matrix = class {
            constructor(json) {
              this.service = new this.#ServiceMatrix(json.service);
              this.online = json.online;
            }
          
            toNormal() {
              return {
                service: this.service.toNormal(),
                online: this.online,
              };
            }
        
            #ServiceMatrix = class extends Array {
              constructor(json) {
                super();
                let tempInstance;
                for (let i of json) {
                  tempInstance = new this.#ServiceMatrixFactor(i);
                  this.push(tempInstance);
                }
              }
            
              toNormal() {
                let arr = [];
                for (let i of this) {
                  arr.push(i.toNormal());
                }
                return arr;
              }
            
              #ServiceMatrixFactor = class {
                constructor(json) {
                  this.serid = json.serid;
                  this.case = json.case;
                }
              
                toNormal() {
                  return {
                    serid: this.serid,
                    case: this.case,
                  };
                }
              }
            }
          }
        
          #PercentageHistory = class extends Array {
            toNormal() {
              let arr = [];
              for (let i of this) {
                arr.push(i.toNormal());
              }
              return arr;
            }
          }
          
          #PastPercentage = class {
            constructor(json) {
              this.date = {
                start: new DateParse(json.date.start),
                end: new DateParse(json.date.end),
              };
              this.percentage = json.percentage;
            }
          
            toNormal() {
              return {
                date: {
                  start: this.date.start.toNormal(),
                  end: this.date.end.toNormal(),
                },
                percentage: this.percentage,
              };
            }
          }
        }
        
        #Construct = class {
          constructor(json) {
            this.partner = json.partner;
            this.method = json.method;
          }
        
          toNormal() {
            return {
              partner: this.partner,
              method: this.method,
            };
          }
        }
      }
    }
  
    #Contract = class {
      constructor(json) {
        this.status = new Menu(json.status, ["협약 완료", "협약 휴직", "협약 해지", "신청 대기", "컨택중"], false);
        this.date = new DateParse(json.date);
      }
    
      toNormal() {
        return {
          status: this.status.toNormal(),
          date: this.date.toNormal(),
        };
      }
    }
  
    #Addresses = class extends Array {
      toNormal() {
        let arr = [];
        for (let i of this) {
          arr.push(i.toNormal());
        }
        return arr;
      }
    }
  }

  #DesignerSetting = class {
    constructor(json) {
      this.front = new this.#Front(json.front);
      this.proposal = new this.#Proposals();
      for (let i of json.proposal) {
        const tempInstance = new this.#Proposal(i);
        this.proposal.push(tempInstance);
      }
      this.ghost = new this.#Ghosts();
      for (let i of json.ghost) {
        const tempInstance = new this.#Ghost(i);
        this.ghost.push(tempInstance);
      }
      this.description = new this.#Description(json.description);
    }
  
    toNormal() {
      return {
        front: this.front.toNormal(),
        proposal: this.proposal.toNormal(),
        ghost: this.ghost.toNormal(),
        description: this.description.toNormal(),
      };
    }
  
    #Front = class {
      constructor(json) {
        this.introduction = new this.#FrontIntroduction(json.introduction);
        this.methods = new this.#FrontMethods();
        for (let i of json.methods) {
          this.methods.push(i);
        }
        this.photo = new this.#FrontPhoto(json.photo);
        this.order = json.order;
      }
    
      toNormal() {
        return {
          introduction: this.introduction.toNormal(),
          methods: this.methods.toNormal(),
          photo: this.photo.toNormal(),
          order: this.order,
        };
      }
    
      #FrontIntroduction = class {
        constructor(json) {
          this.desktop = new this.#FrontIntroductionDesktop();
          this.mobile = new this.#FrontIntroductionMobile();
          for (let i of json.desktop) {
            this.desktop.push(i);
          }
          for (let i of json.mobile) {
            this.mobile.push(i);
          }
        }
      
        toNormal() {
          return {
            desktop: this.desktop.toNormal(),
            mobile: this.mobile.toNormal(),
          };
        }
      
        #FrontIntroductionDesktop = class extends Array {
          toNormal() {
            let arr = [];
            for (let i of this) {
              arr.push(i);
            }
            return arr;
          }
        }
        
        #FrontIntroductionMobile = class extends Array {
          toNormal() {
            let arr = [];
            for (let i of this) {
              arr.push(i);
            }
            return arr;
          }
        }
      }
      
      #FrontPhoto = class {
        constructor(json) {
          this.porlid = json.porlid;
          this.index = json.index;
        }
      
        toNormal() {
          return {
            porlid: this.porlid,
            index: this.index,
          };
        }
      }
    
      #FrontMethods = class extends Array {
        toNormal() {
          let arr = [];
          for (let i of this) {
            arr.push(i);
          }
          return arr;
        }
      }
    }
  
    #Ghosts = class extends Array {
      toNormal() {
        let arr = [];
        for (let i of this) {
          arr.push(i.toNormal());
        }
        return arr;
      }
    }
    
    #Ghost = class {
      constructor(json) {
        this.link = json.link;
        this.sgTrue = json.sgTrue;
      }
    
      toNormal() {
        return {
          link: this.link,
          sgTrue: this.sgTrue,
        };
      }
    }
  
    #Proposal = class {
      constructor(json) {
        this.name = json.name;
        this.photo = new this.#ProposalPhotos();
        for (let i of json.photo) {
          const tempInstance = new this.#ProposalPhoto(i);
          this.photo.push(tempInstance);
        }
        this.description = new this.#ProposalDescription();
        for (let i of json.description) {
          this.description.push(i);
        }
      }
    
      toNormal() {
        return {
          name: this.name,
          photo: this.photo.toNormal(),
          description: this.description.toNormal(),
        };
      }
    
      #ProposalPhotos = class extends Array {
        toNormal() {
          let arr = [];
          for (let i of this) {
            arr.push(i.toNormal());
          }
          return arr;
        }
      }
      
      #ProposalPhoto = class {
        constructor(json) {
          this.position = json.position;
          this.sgTrue = json.sgTrue;
          this.unionPo = json.unionPo;
          this.styleText = json.styleText;
          this.imgSrc = json.imgSrc;
        }
      
        toNormal() {
          return {
            position: this.position,
            sgTrue: this.sgTrue,
            unionPo: this.unionPo,
            styleText: this.styleText,
            imgSrc: this.imgSrc,
          };
        }
      }
      
      #ProposalDescription = class extends Array {
        toNormal() {
          let arr = [];
          for (let i of this) {
            arr.push(i);
          }
          return arr;
        }
      }
    }
  
    #Proposals = class extends Array {
      toNormal() {
        let arr = [];
        for (let i of this) {
          arr.push(i.toNormal());
        }
        return arr;
      }
    }
  
    #Description = class extends Array {
      constructor(arr) {
        super();
        for (let i of arr) {
          this.push(i);
        }
      }
      toNormal() {
        let arr = [];
        for (let i of this) {
          arr.push(i);
        }
        return arr;
      }
    }
  }

  #HomeLiaisonAnalytics = class {
    constructor(json) {
      this.region = new this.#RegionAnalytics(json.region);
      this.project = new this.#ProjectAnalytics(json.project);
      this.construct = new this.#ConstructAnalytics(json.construct);
      this.styling = new this.#StylingAnalytics(json.styling);
      this.purchase = new this.#PurchaseAnalytics(json.purchase);
      this.etc = new this.#EtcAnalytics(json.etc);
      this.personality = new this.#PersonalityAnalytics(json.personality);
      this.grade = json.grade;
    }
  
    toNormal() {
      return {
        region: this.region.toNormal(),
        project: this.project.toNormal(),
        construct: this.construct.toNormal(),
        styling: this.styling.toNormal(),
        purchase: this.purchase.toNormal(),
        etc: this.etc.toNormal(),
        personality: this.personality.toNormal(),
        grade: this.grade,
      };
    }
  
    #StylingAnalytics = class {
      constructor(json) {
        this.level = json.level;
        this.method = new Menu(json.method, [
          "순차 제안",
          "한번에 제안",
        ], false);
        this.tendency = new this.#StylingTendency(json.tendency);
        this.furniture = new this.#StylingFurniture(json.furniture);
        this.fabric = new this.#StylingFabric(json.fabric);
      }
    
      toNormal() {
        return {
          level: this.level,
          method: this.method.toNormal(),
          tendency: this.tendency.toNormal(),
          furniture: this.furniture.toNormal(),
          fabric: this.fabric.toNormal(),
        };
      }
    
      #StylingFabric = class {
        constructor(json) {
          this.level = json.level;
          this.curtain = new Menu(json.curtain, [
            "업체 연결",
            "기성 제품 추천",
            "직접 제작",
          ], true);
          this.bedding = new Menu(json.bedding, [
            "업체 연결",
            "기성 제품 추천",
            "직접 제작",
          ], true);
        }
      
        toNormal() {
          return {
            level: this.level,
            curtain: this.curtain.toNormal(),
            bedding: this.bedding.toNormal(),
          };
        }
      }
      
      #StylingFurniture = class {
        constructor(json) {
          this.builtin = json.builtin;
          this.design = json.design;
          this.builtinDetail = new Menu(json.builtinDetail, [
            "도면",
            "3D",
            "AS 가능",
          ], true);
          this.designDetail = new Menu(json.designDetail, [
            "도면",
            "3D",
            "AS 가능",
          ], true);
        }
      
        toNormal() {
          return {
            builtin: this.builtin,
            design: this.design,
            builtinDetail: this.builtinDetail.toNormal(),
            designDetail: this.designDetail.toNormal(),
          };
        }
      }
      
      #StylingTendency = class {
        constructor(json) {
          this.style = new this.#TendencyStyle(json.style);
          this.texture = new this.#TendencyTexture(json.texture);
          this.color = new this.#TendencyColor(json.color);
          this.density = new this.#TendencyDensity(json.density);
        }
      
        toNormal() {
          return {
            style: this.style.toNormal(),
            texture: this.texture.toNormal(),
            color: this.color.toNormal(),
            density: this.density.toNormal(),
          };
        }
      
        #TendencyDensity = class {
          constructor(json) {
            this.maximun = json.maximun;
            this.minimum = json.minimum;
          }
        
          toNormal() {
            return {
              maximun: this.maximun,
              minimum: this.minimum,
            };
          }
        }
        
        #TendencyColor = class {
          constructor(json) {
            this.darkWood = json.darkWood;
            this.whiteWood = json.whiteWood;
            this.highContrast = json.highContrast;
            this.vivid = json.vivid;
            this.white = json.white;
            this.mono = json.mono;
            this.bright = json.bright;
            this.dark = json.dark;
          }
        
          toNormal() {
            return {
              darkWood: this.darkWood,
              whiteWood: this.whiteWood,
              highContrast: this.highContrast,
              vivid: this.vivid,
              white: this.white,
              mono: this.mono,
              bright: this.bright,
              dark: this.dark,
            };
          }
        }
        
        #TendencyTexture = class {
          constructor(json) {
            this.darkWood = json.darkWood;
            this.whiteWood = json.whiteWood;
            this.coating = json.coating;
            this.metal = json.metal;
          }
        
          toNormal() {
            return {
              darkWood: this.darkWood,
              whiteWood: this.whiteWood,
              coating: this.coating,
              metal: this.metal,
            };
          }
        }
        
        #TendencyStyle = class {
          constructor(json) {
            this.modern = json.modern;
            this.classic = json.classic;
            this.natural = json.natural;
            this.mixmatch = json.mixmatch;
            this.scandinavian = json.scandinavian;
            this.vintage = json.vintage;
            this.oriental = json.oriental;
            this.exotic = json.exotic;
          }
        
          toNormal() {
            return {
              modern: this.modern,
              classic: this.classic,
              natural: this.natural,
              mixmatch: this.mixmatch,
              scandinavian: this.scandinavian,
              vintage: this.vintage,
              oriental: this.oriental,
              exotic: this.exotic,
            };
          }
        }
      
        toMatrix(keymode = false) {
          const keys = ["style", "texture", "color", "density"];
          const keyArr = [
            [
              "modern",
              "classic",
              "natural",
              "mixmatch",
              "scandinavian",
              "vintage",
              "oriental",
              "exotic",
            ],
            [
              "darkWood",
              "whiteWood",
              "coating",
              "metal",
            ],
            [
              "darkWood",
              "whiteWood",
              "highContrast",
              "vivid",
              "white",
              "mono",
              "bright",
              "dark",
            ],
            [
              "maximun",
              "minimum",
            ],
          ];
      
          const result = [];
          for (let i = 0; i < keys.length; i++) {
            for (let key of keyArr[i]) {
              result.push(this[keys[i]][key]);
            }
          }
      
          if (keymode) {
            return keyArr.flat();
          } else {
            return result;
          }
        }
      }
    }
  
    #ConstructAnalytics = class {
      constructor(json) {
        this.ability = json.ability;
        this.level = json.level;
        this.possible = new this.#ConstructPossible(json.possible);
        this.case = new this.#ConstructCases(json.case);
        this.partner = json.partner;
        this.partnerName = json.partnerName;
        this.own = json.own;
        this.ownName = json.ownName;
        this.range = json.range;
        this.major = json.major;
      }
    
      toNormal() {
        return {
          ability: this.ability,
          level: this.level,
          possible: this.possible.toNormal(),
          case: this.case.toNormal(),
          partner: this.partner,
          partnerName: this.partnerName,
          own: this.own,
          ownName: this.ownName,
          range: this.range,
          major: this.major,
        };
      }
    
      #ConstructCases = class extends Array {
        constructor(arr) {
          super();
          if (arr.length !== 3) {
            throw new Error("construct case must be 3 length array");
          }
          for (let i of arr) {
            this.push(new this.#ConstructCase(i));
          }
        }
        toNormal() {
          let arr = [];
          for (let i of this) {
            arr.push(i.toNormal());
          }
          return arr;
        }
        #ConstructCase = class {
          constructor(json) {
            this.name = json.name;
            this.contract = new Menu(json.contract, [
              "직접 계약, 직접 감리",
              "직접 계약, 외주 감리",
              "협업사 계약",
              "공정별 연결",
            ], true);
            this.possible = new Menu(json.possible, [
              "고객 시공사",
              "홈리에종 시공사",
              "디자이너 시공사",
            ], true);
          }
        
          toNormal() {
            return {
              name: this.name,
              contract: this.contract.toNormal(),
              possible: this.possible.toNormal(),
            };
          }
        }
      }
      
      #ConstructPossible = class {
        constructor(json) {
          this.supervision = json.supervision;
        }
      
        toNormal() {
          return {
            supervision: this.supervision,
          };
        }
      }
    }
  
    #EtcAnalytics = class {
      constructor(json) {
        this.personality = new this.#Personality(json.personality);
        this.relation = new Menu(json.relation, [
          "지속가능성 높음",
          "그냥 평범",
          "확인중",
          "좋지 않음",
        ], false);
      }
    
      toNormal() {
        return {
          personality: this.personality.toNormal(),
          relation: this.relation.toNormal(),
        };
      }
    
      #Personality = class extends Array {
        constructor(json) {
          super();
          for (let i of json) {
            this.push(new this.#PersonalityFactor(i));
          }
        }
      
        toNormal() {
          let arr = [];
          for (let i of this) {
            arr.push(i.toNormal());
          }
          return arr;
        }
      
        #PersonalityFactor = class {
          constructor(json) {
            this.name = json.name;
            this.value = json.value;
          }
        
          toNormal() {
            return {
              name: this.name,
              value: this.value,
            };
          }
        }
      }
    }
    
    #PurchaseAnalytics = class {
      constructor(json) {
        this.agencies = json.agencies;
        this.setting = new this.#PurchaseSetting(json.setting);
      }
    
      toNormal() {
        return {
          agencies: this.agencies,
          setting: this.setting.toNormal(),
        };
      }
    
      #PurchaseSetting = class {
        constructor(json) {
          this.install = json.install;
          this.storage = json.storage;
        }
      
        toNormal() {
          return {
            install: this.install,
            storage: this.storage,
          };
        }
      }
    }
  
    #ProjectAnalytics = class {
      constructor(json) {
        this.time = new this.#ProjectTime(json.time);
        this.paperWork = new Menu(json.paperWork, [
          "도면",
          "3D",
          "컨셉 제안",
          "마감재 제안",
          "제품 리스트",
          "제품 이미지",
          "콜라주",
        ], true);
        this.cad = json.cad;
        this.collage = json.collage;
        this.modeling = json.modeling;
        this.online = json.online;
        this.living = json.living;
        this.partial = json.partial;
        this.matrix = new this.#AreaMatrix(json.matrix);
        this.operationBudget = new this.#OperationBudget(json.operationBudget);
      }
    
      toNormal() {
        return {
          time: this.time.toNormal(),
          paperWork: this.paperWork.toNormal(),
          cad: this.cad,
          collage: this.collage,
          modeling: this.modeling,
          online: this.online,
          living: this.living,
          partial: this.partial,
          matrix: this.matrix.toNormal(),
          operationBudget: this.operationBudget.toNormal(),
        };
      }
    
      #ProjectTime = class {
        constructor(json) {
          this.first = json.first;
          this.entire = json.entire;
        }
      
        toNormal() {
          return {
            first: this.first,
            entire: this.entire,
          };
        }
      }
  
      #AreaMatrix = class extends Array {
    
        constructor(json) {
          super();
          for (let arr of json) {
            this.push(new this.#AreaMatrixFactor(arr));
          }
        }
      
        #AreaMatrixFactor = class extends Array {
          constructor(json) {
            super();
            for (let i of json) {
              this.push(i);
            }
          }
          toNormal() {
            let arr = [];
            for (let i of this) {
              arr.push(i);
            }
            return arr;
          }
        }
      
        getStandards() {
          return {
            xValues: [
              "F",
              "S",
              "T",
              "XT"
            ],
            yValues: [
              "partial",
              "normal",
              "premium",
            ]
          };
        }
      
        toNormal() {
          let arr = [];
          for (let i of this) {
            arr.push(i.toNormal());
          }
          return arr;
        }
      }
    
      #OperationBudget = class {
        constructor(json) {
          this.min = json.min;
          this.max = json.max;
        }
      
        toNormal() {
          return {
            min: this.min,
            max: this.max,
          };
        }
      }
    }
    
    #RegionAnalytics = class {
      constructor(json) {
        this.transportation = new Menu(json.transportation, ["자동차", "대중교통"], false);
        this.range = json.range;
        this.expenses = json.expenses;
        this.construct = json.construct;
      }
    
      toNormal() {
        return {
          transportation: this.transportation.toNormal(),
          range: this.range,
          expenses: this.expenses,
          construct: this.construct,
        };
      }
    }
  
    #PersonalityAnalytics = class {
      constructor(json) {
        this.operation = json.operation;
        this.design = json.design;
        this.efficient = json.efficient;
        this.communication = json.communication;
        this.homeliaison = json.homeliaison;
      }
    
      toNormal() {
        return {
          operation: this.operation,
          design: this.design,
          efficient: this.efficient,
          communication: this.communication,
          homeliaison: this.homeliaison,
        };
      }
    }
  
  }

  #DesignerRealTime = class {
    constructor(json) {
      this.availableDate = new this.#AvailableDate(json.availableDate);
    }
    toNormal() {
      return {
        availableDate: this.availableDate.toNormal(),
      };
    }
    #AvailableDate = class {
      constructor(json) {
        this.value = json;
      }
      toNormal() {
        return this.value;
      }
    }
  }
}

class Designers extends Array {

  toNormal() {
    let tong;
    tong = [];
    for (let i of this) {
      tong.push(i.toNormal());
    }
    return tong;
  }

  frontMode() {
    let tong;
    tong = [];
    for (let i of this) {
      tong.push(i.frontMode());
    }
    return tong;
  }

}

const withTools = function (Designer) {

  Designer.prototype.flatDeath = function () {
    const designer_raw = this.toNormal();
    const dateToString = function (dateObject, detail = false) {
      let dayString = '';

      dayString += String(dateObject.getFullYear()).slice(0, 4);
      dayString += '-';

      if (dateObject.getMonth() + 1 < 10) {
        dayString += '0' + String(dateObject.getMonth() + 1);
      } else {
        dayString += String(dateObject.getMonth() + 1);
      }

      dayString += '-';

      if (dateObject.getDate() < 10) {
        dayString += '0' + String(dateObject.getDate());
      } else {
        dayString += String(dateObject.getDate());
      }

      if (detail) {
        dayString += ' ';
        if (dateObject.getHours() < 10) {
          dayString += '0' + String(dateObject.getHours());
        } else {
          dayString += String(dateObject.getHours());
        }
        dayString += ':';
        if (dateObject.getMinutes() < 10) {
          dayString += '0' + String(dateObject.getMinutes());
        } else {
          dayString += String(dateObject.getMinutes());
        }
        dayString += ':';
        if (dateObject.getSeconds() < 10) {
          dayString += '0' + String(dateObject.getSeconds());
        } else {
          dayString += String(dateObject.getSeconds());
        }
      }

      if (/^1[678]/.test(dayString)) {
        dayString = '-';
      } else if (/^3/.test(dayString)) {
        dayString = '예정';
      }

      return dayString;
    }
    const snsSplit = function (snsArr) {
      let result = '';
      for (let { kind, href } of snsArr) {
        result += kind + " " + href;
        result += " / ";
      }
      result = result.slice(0, -3);
      return result;
    }
    const accountSplit = function (accountArr) {
      let result = '';
      for (let { bankName, accountNumber, to } of accountArr) {
        result += bankName + " " + accountNumber + " " + to;
        result += " / ";
      }
      result = result.slice(0, -3);
      return result;
    }

    let tong = [];
    let temp;

    const { designer, desid } = designer_raw;
    const { contract: { status, date }, phone, email, did, address, personalSystem: { showRoom, webPage, sns }, business: { career, account, businessInfo: { classification, businessNumber, files }, service: { cost: { percentage }, construct: { partner, method } } } } = designer_raw.information;

    temp = {};
    temp.standard = {
      desid,
      designer
    };
    temp.info = {
      status,
      date: dateToString(date),
      phone,
      email,
      did,
      address: address.join(", "),
      showRoom: String(showRoom),
      webPage: webPage.join(", "),
      sns: snsSplit(sns),
      career: (String(career.startY) + '년' + ' ' + String(career.startM) + '월'),
      account: accountSplit(account),
      classification,
      businessNumber,
      files: ((files.businessRegistration ? '사업자등록증 유' : '사업자등록증 무') + " / " + (files.bankBook ? '통장사본 유' : '통장사본 무') + " / " + (files.registrationCard ? '신분증사본 유' : '신분증사본 무')),
      percentage: String(percentage),
      partner,
      method
    }
    tong.push(temp);

    return tong;
  }

  Designer.prototype.dimensionSqueeze = function () {
    const tong = this.flatDeath();
    let result, tempObj;

    result = [];
    for (let { standard, info } of tong) {
      tempObj = {};
      for (let i in standard) {
        tempObj[i] = standard[i];
      }
      for (let i in info) {
        tempObj[i] = info[i];
      }
      result.push(tempObj);
    }

    return result;
  }

  return Designer;
}

const withToolsArr = function (Designers) {

  Designers.prototype.flatDeath = function () {
    let tong, tempArr;
    tong = [];
    for (let i of this) {
      tempArr = i.flatDeath();
      for (let j of tempArr) {
        tong.push(j);
      }
    }
    return tong;
  }

  Designers.prototype.dimensionSqueeze = function () {
    const TABLE_NAME = "designer";
    const LONG_TARGETS = [];
    class SqlModel {
      constructor(sample) {
        for (let i in sample) {
          if (typeof sample[i] === "string") {
            this[i] = "VARCHAR(255)";
          } else if (typeof sample[i] === "number") {
            this[i] = "INT(11)";
          } else if (typeof sample[i] === "boolean") {
            this[i] = "INT(11)";
          } else {
            this[i] = "VARCHAR(255)";
          }
          if (LONG_TARGETS.includes(i)) {
            this[i] = "TEXT";
          }
        }
      }

      getName() {
        return TABLE_NAME;
      }

      getCreateSql() {
        let sql = "CREATE TABLE \`" + this.getName() + "\` (";
        sql += "id INT(11) NOT NULL AUTO_INCREMENT,";
        sql += " ";
        for (let i in this) {
          sql += "\`";
          sql += i;
          sql += "\`";
          sql += " ";
          sql += this[i];
          sql += ", ";
        }
        sql += "PRIMARY KEY (id));";
        return sql;
      }

      getDropSql() {
        let sql = "DROP TABLE " + this.getName() + ";";
        return sql;
      }

    }
    class SqlTong extends Array {
      getName() {
        return TABLE_NAME;
      }

      getInsertSql() {
        let arr = [];
        for (let i of this) {
          arr.push(i.getInsertSql());
        }
        return arr;
      }

    }
    class SqlTongFactor {
      constructor(sample) {
        for (let i in sample) {
          if (typeof sample[i] === "string") {
            this[i] = sample[i];
          } else if (typeof sample[i] === "number") {
            this[i] = sample[i];
          } else if (typeof sample[i] === "boolean") {
            if (sample[i]) {
              this[i] = 1;
            } else {
              this[i] = 0;
            }
          } else {
            this[i] = JSON.stringify(sample[i]);
          }
        }
      }

      getName() {
        return TABLE_NAME;
      }

      getInsertSql() {
        let sql = "INSERT INTO \`" + this.getName() + "\` (";
        for (let i in this) {
          sql += "\`";
          sql += i;
          sql += "\`";
          sql += ",";
        }

        sql = sql.slice(0, -1);
        sql += ") VALUES (";

        for (let i in this) {
          if (typeof this[i] === "number") {
            sql += this[i];
          } else {
            if (/^[0-9][0-9][0-9][0-9]\-[0-9][0-9]\-[0-9][0-9]$/gi.test(this[i])) {
              sql += "STR_TO_DATE('";
              sql += this[i].replace(/'/g, '"');
              sql += "', '%Y-%m-%d')";
            } else if (/^[0-9][0-9][0-9][0-9]\-[0-9][0-9]\-[0-9][0-9] [0-9][0-9]\:[0-9][0-9]\:[0-9][0-9]$/gi.test(this[i])) {
              sql += "STR_TO_DATE('";
              sql += this[i].replace(/'/g, '"');
              sql += "', '%Y-%m-%d %H:%i:%s')";
            } else {
              sql += "'";
              sql += this[i].replace(/'/g, '"');
              sql += "'";
            }
          }
          sql += ",";
        }

        sql = sql.slice(0, -1);
        sql += ");";

        return sql;
      }
    }

    let tong, tempArr;
    let sample, model;

    tong = new SqlTong();

    for (let i of this) {
      tempArr = i.dimensionSqueeze();
      for (let j of tempArr) {
        tong.push(new SqlTongFactor(j));
      }
    }

    if (tong.length > 0) {
      sample = tong[0];
      model = new SqlModel(sample);
      return { model, data: tong };
    } else {
      return null;
    }
  }

  Designers.prototype.search = function (desid) {
    let result = null;
    for (let i of this) {
      if (i.desid === desid) {
        result = i;
        break;
      }
    }
    return result;
  }

  Designers.prototype.pick = function (desid) {
    return this.search(desid);
  }

  return Designers;
}

module.exports = { DesignerMap, Designer, Designers, Tools: { withTools, withToolsArr } };
